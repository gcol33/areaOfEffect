[{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Getting Started with areaOfEffect","text":"areaOfEffect package addresses common problem spatial ecology: political borders ecological boundaries. sampling within defined region (e.g., country protected area), observations near border influenced conditions outside region. Simply cropping data administrative boundaries introduces edge effects. area effect (AoE) correction expands spatial support outward, classifying points : Core: inside original support (fully representative) Halo: outside original inside expanded AoE (influenced external conditions) Pruned: outside AoE entirely (removed)","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Getting Started with areaOfEffect","text":"Create simple support polygon: Create observation points: Apply area effect: result contains points inside AoE, classification:","code":"library(areaOfEffect) library(sf) #> Linking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE support <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(0, 100, 100, 0, 0), c(0, 0, 100, 100, 0))   ))),   crs = 32631 ) pts <- st_as_sf(   data.frame(     id = 1:5,     value = c(10, 20, 15, 25, 30)   ),   geometry = st_sfc(     st_point(c(50, 50)),   # center     st_point(c(10, 10)),   # near corner     st_point(c(95, 50)),   # near edge     st_point(c(120, 50)),  # outside, in halo     st_point(c(250, 250))  # far outside   ),   crs = 32631 ) result <- aoe(pts, support) print(result) #> Area of Effect Result #> ───────────────────── #> Points:   4 (3 core, 1 halo) #> Supports: 1 #> Scale:    0.414 (multiplier 1.41, theoretical halo:core 1.00) #>  #> Simple feature collection with 4 features and 5 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 10 ymin: 10 xmax: 120 ymax: 50 #> Projected CRS: WGS 84 / UTM zone 31N #>   point_id support_id aoe_class id value       geometry #> 1        1          1      core  1    10  POINT (50 50) #> 2        2          1      core  2    20  POINT (10 10) #> 3        3          1      core  3    15  POINT (95 50) #> 4        4          1      halo  4    25 POINT (120 50) result$aoe_class #> [1] \"core\" \"core\" \"core\" \"halo\""},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"understanding-the-transformation","dir":"Articles","previous_headings":"","what":"Understanding the Transformation","title":"Getting Started with areaOfEffect","text":"AoE constructed scaling support geometry outward reference point (default, centroid). fixed scale = 1, boundary vertex moved twice distance reference: p′=r+2(p−r)p' = r + 2(p - r) rr reference point pp boundary vertex. doubles effective spatial extent maintaining shape orientation original support.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"multiple-supports","dir":"Articles","previous_headings":"","what":"Multiple Supports","title":"Getting Started with areaOfEffect","text":"working multiple administrative regions, can process : Points can appear multiple times (per support whose AoE contains ). support_id column indicates support classification refers .","code":"# Two adjacent regions supports <- st_as_sf(   data.frame(region = c(\"A\", \"B\")),   geometry = st_sfc(     st_polygon(list(cbind(c(0, 50, 50, 0, 0), c(0, 0, 100, 100, 0)))),     st_polygon(list(cbind(c(50, 100, 100, 50, 50), c(0, 0, 100, 100, 0))))   ),   crs = 32631 )  # Points that may fall in overlapping AoEs pts_multi <- st_as_sf(   data.frame(id = 1:3),   geometry = st_sfc(     st_point(c(25, 50)),   # inside A     st_point(c(50, 50)),   # on boundary     st_point(c(75, 50))    # inside B   ),   crs = 32631 )  result_multi <- aoe(pts_multi, supports) print(result_multi) #> Area of Effect Result #> ───────────────────── #> Points:   4 (4 core, 0 halo) #> Supports: 2 #> Scale:    0.414 (multiplier 1.41, theoretical halo:core 1.00) #>  #> Simple feature collection with 4 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 25 ymin: 50 xmax: 75 ymax: 50 #> Projected CRS: WGS 84 / UTM zone 31N #>   point_id support_id aoe_class id      geometry #> 1        1          1      core  1 POINT (25 50) #> 2        2          1      core  2 POINT (50 50) #> 3        2          2      core  2 POINT (50 50) #> 4        3          2      core  3 POINT (75 50)"},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"diagnostic-summary","dir":"Articles","previous_headings":"","what":"Diagnostic Summary","title":"Getting Started with areaOfEffect","text":"Use aoe_summary() get statistics support: returns counts proportions core vs halo points per support.","code":"aoe_summary(result) #>   support_id n_total n_core n_halo prop_core prop_halo #> 1          1       4      3      1      0.75      0.25"},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"using-a-mask","dir":"Articles","previous_headings":"","what":"Using a Mask","title":"Getting Started with areaOfEffect","text":"coastal regions, sea hard boundary crossed. Provide mask constrain AoE:","code":"# Land polygon (excludes sea) land <- st_read(\"path/to/land.shp\")  # AoE will be intersected with land result <- aoe(pts, support, mask = land)"},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"custom-reference-point","dir":"Articles","previous_headings":"","what":"Custom Reference Point","title":"Getting Started with areaOfEffect","text":"default, centroid support used reference point. single-support cases, can specify different reference: Note: custom reference allowed support single row. multiple supports, uses centroid.","code":"# Reference at origin corner ref <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_point(c(0, 0))),   crs = 32631 )  result_custom <- aoe(pts, support, reference = ref)"},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"accessing-metadata","dir":"Articles","previous_headings":"","what":"Accessing Metadata","title":"Getting Started with areaOfEffect","text":"result includes attributes metadata:","code":"# Scale used (always 1) attr(result, \"scale\") #> NULL"},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"why-fixed-scale","dir":"Articles","previous_headings":"","what":"Why Fixed Scale?","title":"Getting Started with areaOfEffect","text":"scale fixed 1 ensure: Reproducibility: analyses use definition Comparability: Results across studies directly comparable Interpretability: “applied AoE correction” unambiguous need explore different scales, functionality belongs separate analysis code, core AoE operator.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/quickstart.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Getting Started with areaOfEffect","text":"aoe() classifies points “core” “halo” based position relative original expanded support Multiple supports can processed (long format output) Points outside AoE automatically pruned Sea hard boundaries can enforced via mask argument Scale fixed 1 methodological consistency Use aoe_summary() diagnostic statistics","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"the-problem-border-truncation","dir":"Articles","previous_headings":"","what":"The Problem: Border Truncation","title":"The Area of Effect Concept","text":"analyzing spatial data within political administrative boundaries, fundamental assumption often violated: sampling region represents ecological extent processes studied. Consider sampling species occurrences within country. Observations near border influenced conditions outside country. forest spans border, river crosses , simply continuous nature climate habitat means truncating border introduces systematic bias. border truncation: artificial constraint ecological processes administrative boundaries.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"what-aoe-is-not","dir":"Articles","previous_headings":"","what":"What AoE Is Not","title":"The Area of Effect Concept","text":"explaining AoE , ’s important clarify : - buffer: Buffers add fixed distance. AoE scales proportionally reference point. - distance-based operation: distance threshold decay function. - tunable parameter: Scale fixed 1. method, knob.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"the-area-of-effect","dir":"Articles","previous_headings":"","what":"The Area of Effect","title":"The Area of Effect Concept","text":"area effect (AoE) spatial extent observations within support influenced external conditions. computed scaling support geometry outward reference point (typically centroid). scale fixed 1, transformation : p′=r+2(p−r)p' = r + 2(p - r) : - rr reference point (centroid) - pp vertex support boundary - p′p' transformed vertex doubles distance reference point boundary vertex, effectively expanding support twice spatial extent preserving shape orientation.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"core-and-halo-classification","dir":"Articles","previous_headings":"","what":"Core and Halo Classification","title":"The Area of Effect Concept","text":"Points within AoE classified two categories: Core: Points inside original support. fully contained within sampling region represent “pure” observations unaffected border effects. Halo: Points outside original support inside expanded AoE. observations influenced conditions border zone may require different treatment analysis. Points outside AoE pruned (removed). distant meaningfully related support region. Point classification AoE. Core points (green) inside original support. Halo points (orange) expanded region. Points outside AoE pruned.","code":"#> Linking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE"},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"the-scale-parameter","dir":"Articles","previous_headings":"","what":"The Scale Parameter","title":"The Area of Effect Concept","text":"scale parameter controls far AoE extends beyond original support. scale s, linear multiplier 1 + s, area multiplier (1 + s)². Two values special geometric meaning: sqrt(2) - 1 ≈ 0.414 (default): Equal core halo areas 1: Equal linear distance inside outside boundary","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"why-equal-area-is-the-default","dir":"Articles","previous_headings":"","what":"Why Equal Area is the Default","title":"The Area of Effect Concept","text":"default scale produces equal core halo areas. arbitrary—reflects philosophical position “influence” means.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"the-symmetry-argument","dir":"Articles","previous_headings":"Why Equal Area is the Default","what":"The Symmetry Argument","title":"The Area of Effect Concept","text":"say point halo “influenced ” support region, ’re making claim spatial relevance. question : much relevance grant outside? Equal area says: outside matters much inside. maximally symmetric choice. ratio implies either: - core important halo (halo smaller), - External conditions dominate internal ones (halo larger) Without domain-specific knowledge justify asymmetry, equal weighting principled default.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"the-information-theoretic-view","dir":"Articles","previous_headings":"Why Equal Area is the Default","what":"The Information-Theoretic View","title":"The Area of Effect Concept","text":"Consider AoE defining probability distribution space: “might conditions relevant support come ?” Equal areas means equal prior probability mass inside outside original boundary. maximum-entropy choice—encodes bias toward internal external dominance. Scale = 1 (“one full stamp” expansion) gives 1:3 ratio, implying outside three times relevant inside. may appropriate analyses (e.g., highly mobile species), ’s strong assumption make default.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"the-geometric-inevitability","dir":"Articles","previous_headings":"Why Equal Area is the Default","what":"The Geometric Inevitability","title":"The Area of Effect Concept","text":"formula s = √2 - 1 tuned parameter. ’s unique solution constraint “core equals halo.” value emerges geometry : (1+s)2−1=1⟹s=2−1 (1 + s)^2 - 1 = 1 \\implies s = \\sqrt{2} - 1 ’s something satisfying default isn’t chosen derived. removes degree freedom analyst replaces principled constraint.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"when-to-override","dir":"Articles","previous_headings":"Why Equal Area is the Default","what":"When to Override","title":"The Area of Effect Concept","text":"Use scale = 1 : - want classic “one full stamp” expansion - domain knowledge suggests external conditions dominate - ’re comparing previous work used convention Use custom scales : - empirical data influence decay - Sensitivity analysis requires exploring parameter space - Domain expertise justifies specific ratio","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"hard-vs-soft-boundaries","dir":"Articles","previous_headings":"","what":"Hard vs Soft Boundaries","title":"The Area of Effect Concept","text":"AoE distinguishes two types boundaries: Political borders (soft): Administrative lines ecological meaning. AoE freely crosses . country border stop species dispersing climate varying. Sea boundaries (hard): Physical barriers like coastlines true boundaries. optional mask argument enforces constraints intersecting AoE land polygon. Hard boundaries constrain AoE. dashed line shows theoretical AoE; solid gray area shows AoE applying land mask.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"multiple-supports","dir":"Articles","previous_headings":"","what":"Multiple Supports","title":"The Area of Effect Concept","text":"Real-world analyses often involve multiple administrative regions (countries, provinces, protected areas). AoE handles naturally: support processed independently uses centroid reference Points can fall within multiple AoEs (regions adjacent) Output long format: one row per point-support combination enables cross-border analyses studies nested administrative structures without repeated preprocessing.","code":""},{"path":"https://gillescolling.com/areaOfEffect/articles/theory.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"The Area of Effect Concept","text":"area effect provides principled correction border truncation spatial analysis: Principled default: Scale = √2 − 1, giving equal core halo areas Geometric derivation: default emerges symmetry, tuning Categorical output: Core, halo, pruned Soft/hard boundaries: Political borders ignored, physical barriers respected Multiple supports: Process many regions result reproducible, interpretable method can consistently applied across studies.","code":""},{"path":"https://gillescolling.com/areaOfEffect/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Gilles Colling. Author, maintainer, copyright holder.","code":""},{"path":"https://gillescolling.com/areaOfEffect/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Colling G (2026). areaOfEffect: Spatial Support Scale. R package version 0.1.0, https://gillescolling.com/areaOfEffect/.","code":"@Manual{,   title = {areaOfEffect: Spatial Support at Scale},   author = {Gilles Colling},   year = {2026},   note = {R package version 0.1.0},   url = {https://gillescolling.com/areaOfEffect/}, }"},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"areaofeffect","dir":"","previous_headings":"","what":"Spatial Support at Scale","title":"Spatial Support at Scale","text":"Spatial Support Scale Given set points one support polygons, aoe() classifies points “core” (inside original support) “halo” (inside area effect outside original support), pruning points outside.","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Spatial Support at Scale","text":"","code":"library(areaOfEffect)  # Austria result <- aoe(pts, \"AT\")  # Austria + Germany result <- aoe(pts, c(\"AT\", \"DE\"))  # Auto-detect countries from points result <- aoe(pts)"},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"statement-of-need","dir":"","previous_headings":"","what":"Statement of Need","title":"Spatial Support at Scale","text":"Political borders hard ecological boundaries. Biological processes stop administrative lines. sampling within political region, observations near border influenced conditions outside region. area effect (AoE) corrects border truncation expanding support outward centroid. Points classified: Core: inside original support Halo: outside original support inside expanded area effect Pruned: outside area effect (returned) default, AoE expands give equal core halo areas. Sea boundaries hard boundaries. optional mask can enforce constraints.","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Spatial Support at Scale","text":"Country lookup: Pass ISO codes names directly (\"\", \"Austria\") Auto-detection: Omit support detect countries points Multiple supports: Process admin regions long format output Masking: Coastlines hard constraints S3 methods: print(), summary(), plot() Diagnostics: aoe_summary(), aoe_area(), aoe_geometry()","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Spatial Support at Scale","text":"","code":"# Install from GitHub # install.packages(\"pak\") pak::pak(\"gcol33/areaOfEffect\")"},{"path":[]},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"single-support","dir":"","previous_headings":"Usage Examples","what":"Single Support","title":"Spatial Support at Scale","text":"","code":"library(areaOfEffect) library(sf)  # Create example support polygon support <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(0, 100, 100, 0, 0), c(0, 0, 100, 100, 0))   ))),   crs = 32631 )  # Create observation points pts <- st_as_sf(   data.frame(id = 1:4),   geometry = st_sfc(     st_point(c(50, 50)),   # core     st_point(c(10, 10)),   # core     st_point(c(150, 50)),  # halo     st_point(c(300, 300))  # pruned   ),   crs = 32631 )  result <- aoe(pts, support) result$aoe_class #> [1] \"core\" \"core\" \"halo\""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"multiple-supports","dir":"","previous_headings":"Usage Examples","what":"Multiple Supports","title":"Spatial Support at Scale","text":"","code":"supports <- st_as_sf(   data.frame(region = c(\"A\", \"B\")),   geometry = st_sfc(     st_polygon(list(cbind(c(0, 50, 50, 0, 0), c(0, 0, 100, 100, 0)))),     st_polygon(list(cbind(c(50, 100, 100, 50, 50), c(0, 0, 100, 100, 0))))   ),   crs = 32631 )  result <- aoe(pts, supports) # Points may appear in both regions' output"},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"with-mask","dir":"","previous_headings":"Usage Examples","what":"With Mask","title":"Spatial Support at Scale","text":"","code":"land <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(-50, 200, 200, -50, -50), c(0, 0, 150, 150, 0))   ))),   crs = 32631 )  result <- aoe(pts, support, mask = land)"},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"diagnostics","dir":"","previous_headings":"Usage Examples","what":"Diagnostics","title":"Spatial Support at Scale","text":"","code":"aoe_summary(result) #>   support_id n_total n_core n_halo prop_core prop_halo #> 1          1       3      2      1     0.667     0.333"},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"scale","dir":"","previous_headings":"","what":"Scale","title":"Spatial Support at Scale","text":"Default: sqrt(2) - 1, gives equal core halo areas.","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Spatial Support at Scale","text":"Quick Start Theory","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"support","dir":"","previous_headings":"","what":"Support","title":"Spatial Support at Scale","text":"“Software like sex: ’s better ’s free.” - Linus Torvalds ’m PhD student builds R packages free time believe good tools free open. started projects work figured others might find useful . package saved time, buying coffee nice way say thanks. helps coffee addiction.","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Spatial Support at Scale","text":"MIT","code":""},{"path":"https://gillescolling.com/areaOfEffect/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Spatial Support at Scale","text":"","code":"@software{areaOfEffect,   author = {Colling, Gilles},   title = {areaOfEffect: Spatial Support at Scale},   year = {2025},   url = {https://github.com/gcol33/areaOfEffect} }"},{"path":"https://gillescolling.com/areaOfEffect/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 Gilles Colling Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify and Prune Points by Area of Effect — aoe","title":"Classify and Prune Points by Area of Effect — aoe","text":"Given set points one support polygons, aoe() classifies points \"core\" (inside original support) \"halo\" (inside area effect outside original support), pruning points outside.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify and Prune Points by Area of Effect — aoe","text":"","code":"aoe(   points,   support,   scale = sqrt(2) - 1,   reference = NULL,   mask = NULL,   coords = NULL )"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classify and Prune Points by Area of Effect — aoe","text":"points sf object POINT geometries. support sf object POLYGON MULTIPOLYGON geometries. row defines separate support region. multiple rows provided, points classified support independently, returning long format output point may appear multiple times. scale Numeric scale factor (default sqrt(2) - 1, approximately 0.414). multiplier applied distances reference point 1 + scale. Common values: sqrt(2) - 1 (default): equal core/halo areas, ratio 1:1 1: equal linear distance inside/outside, area ratio 1:3 reference Optional sf object single POINT geometry. NULL (default), centroid support used. valid support single row. mask Optional sf object POLYGON MULTIPOLYGON geometry. provided, area effect intersected mask (e.g., land boundary exclude sea). coords Column names coordinates points data.frame, e.g. c(\"lon\", \"lat\"). NULL, auto-detects common names.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classify and Prune Points by Area of Effect — aoe","text":"aoe_result object (extends sf) containing supported points, columns: point_id Original point identifier (row name index) support_id Identifier support classification refers aoe_class Classification: \"core\" \"halo\" multiple supports provided, points may appear multiple times (per support whose AoE contains ). result S3 methods print(), summary(), plot(). Use aoe_geometry() extract AoE polygons.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Classify and Prune Points by Area of Effect — aoe","text":"area effect computed scaling support outward centroid. default, scale sqrt(2) - 1 (~0.414), produces equal core halo areas. means AoE twice area original support, split evenly core (inside) halo (outside). transformation applies: $$p' = r + (1 + s)(p - r)$$ \\(r\\) reference point (centroid), \\(p\\) vertex support boundary, \\(s\\) scale factor. scale \\(s\\), area multiplier \\((1 + s)^2\\): Scale 1: multiplier 2, area 4x original, halo:core = 3:1 Scale 0.414: multiplier ~1.414, area 2x original, halo:core = 1:1 Points exactly original support boundary classified \"core\". support geometry validated internally using sf::st_make_valid().","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Classify and Prune Points by Area of Effect — aoe","text":"","code":"library(sf)  # Single support support <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0))   ))),   crs = 32631 )  pts <- st_as_sf(   data.frame(id = 1:4),   geometry = st_sfc(     st_point(c(5, 5)),     st_point(c(2, 2)),     st_point(c(15, 5)),     st_point(c(30, 30))   ),   crs = 32631 )  result <- aoe(pts, support)  # Multiple supports (e.g., admin regions) supports <- st_as_sf(   data.frame(region = c(\"A\", \"B\")),   geometry = st_sfc(     st_polygon(list(cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0)))),     st_polygon(list(cbind(c(8, 18, 18, 8, 8), c(0, 0, 10, 10, 0))))   ),   crs = 32631 )  result <- aoe(pts, supports) # Points near the boundary may appear in both regions' AoE"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_area.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Area Statistics for AoE — aoe_area","title":"Compute Area Statistics for AoE — aoe_area","text":"Calculate area statistics original supports areas effect, including expansion ratios, masking effects, core/halo balance.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_area.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Area Statistics for AoE — aoe_area","text":"","code":"aoe_area(x)"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_area.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Area Statistics for AoE — aoe_area","text":"x aoe_result object returned aoe().","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_area.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Area Statistics for AoE — aoe_area","text":"aoe_area_result data frame one row per support: support_id Support identifier area_core Area core region (original support) area_halo Area halo region (AoE minus core, masking) area_aoe Total AoE area masking halo_core_ratio Ratio halo core area (theoretically 3.0 without mask) pct_masked Percentage theoretical AoE area removed masking","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_area.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute Area Statistics for AoE — aoe_area","text":"scale \\(s\\), AoE expands multiplier \\((1+s)\\) centroid, resulting \\((1+s)^2\\) times area. theoretical halo:core ratio \\((1+s)^2 - 1\\): Scale 1 (default): ratio 3.0 (core 1 part, halo 3 parts) Scale 0.414: ratio 1.0 (equal areas) Masking reduces halo (thus ratio) AoE extends beyond hard boundaries.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_area.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Area Statistics for AoE — aoe_area","text":"","code":"library(sf)  support <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0))   ))),   crs = 32631 )  pts <- st_as_sf(   data.frame(id = 1:3),   geometry = st_sfc(     st_point(c(5, 5)),     st_point(c(15, 5)),     st_point(c(2, 2))   ),   crs = 32631 )  result <- aoe(pts, support) aoe_area(result)"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_geometry.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract AoE Geometries — aoe_geometry","title":"Extract AoE Geometries — aoe_geometry","text":"Extract original support polygons /area effect polygons aoe_result object.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_geometry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract AoE Geometries — aoe_geometry","text":"","code":"aoe_geometry(x, which = c(\"aoe\", \"original\", \"both\"), support_id = NULL)"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_geometry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract AoE Geometries — aoe_geometry","text":"x aoe_result object returned aoe(). geometry extract: \"aoe\" (default), \"original\", \"\". support_id Optional character numeric vector specifying support(s) extract. NULL (default), extracts .","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_geometry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract AoE Geometries — aoe_geometry","text":"sf object polygon geometries columns: support_id Support identifier type \"original\" \"aoe\"","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_geometry.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract AoE Geometries — aoe_geometry","text":"","code":"library(sf)  support <- st_as_sf(   data.frame(region = c(\"A\", \"B\")),   geometry = st_sfc(     st_polygon(list(cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0)))),     st_polygon(list(cbind(c(15, 25, 25, 15, 15), c(0, 0, 10, 10, 0))))   ),   crs = 32631 )  pts <- st_as_sf(   data.frame(id = 1:4),   geometry = st_sfc(     st_point(c(5, 5)),     st_point(c(12, 5)),     st_point(c(20, 5)),     st_point(c(27, 5))   ),   crs = 32631 )  result <- aoe(pts, support)  # Get AoE polygons aoe_polys <- aoe_geometry(result, \"aoe\")  # Get both original and AoE for comparison both <- aoe_geometry(result, \"both\")  # Filter to one support (uses row names as support_id) region_1 <- aoe_geometry(result, \"aoe\", support_id = \"1\")"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize Area of Effect Results — aoe_summary","title":"Summarize Area of Effect Results — aoe_summary","text":"Compute summary statistics AoE classification result, including counts proportions core vs halo points per support.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize Area of Effect Results — aoe_summary","text":"","code":"aoe_summary(x)"},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize Area of Effect Results — aoe_summary","text":"x sf object returned aoe().","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize Area of Effect Results — aoe_summary","text":"data frame one row per support, containing: support_id Support identifier n_total Total number supported points n_core Number core points n_halo Number halo points prop_core Proportion points core prop_halo Proportion points halo","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/aoe_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarize Area of Effect Results — aoe_summary","text":"","code":"library(sf)  support <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0))   ))),   crs = 32631 )  pts <- st_as_sf(   data.frame(id = 1:4),   geometry = st_sfc(     st_point(c(5, 5)),     st_point(c(2, 2)),     st_point(c(15, 5)),     st_point(c(12, 5))   ),   crs = 32631 )  result <- aoe(pts, support) aoe_summary(result)"},{"path":"https://gillescolling.com/areaOfEffect/reference/countries.html","id":null,"dir":"Reference","previous_headings":"","what":"World Country Polygons with Pre-calculated AoE Bounds — countries","title":"World Country Polygons with Pre-calculated AoE Bounds — countries","text":"sf object containing country polygons Natural Earth (1:50m scale) pre-calculated bounding boxes area effect analysis.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/countries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"World Country Polygons with Pre-calculated AoE Bounds — countries","text":"","code":"countries"},{"path":"https://gillescolling.com/areaOfEffect/reference/countries.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"World Country Polygons with Pre-calculated AoE Bounds — countries","text":"sf data frame 237 rows 8 variables: iso2 ISO 3166-1 alpha-2 country code (e.g., \"FR\", \"\") iso3 ISO 3166-1 alpha-3 country code (e.g., \"FRA\", \"BEL\") name Country name continent Continent name bbox Original bounding box (xmin, ymin, xmax, ymax) Mollweide bbox_equal_area AoE bounding box scale sqrt(2)-1 (equal areas) bbox_equal_ray AoE bounding box scale 1 (equal linear distance) geometry Country polygon WGS84 (EPSG:4326)","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/countries.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"World Country Polygons with Pre-calculated AoE Bounds — countries","text":"Natural Earth https://www.naturalearthdata.com/","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/countries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"World Country Polygons with Pre-calculated AoE Bounds — countries","text":"","code":"# Get France france <- countries[countries$iso3 == \"FRA\", ]  # Use directly with aoe()"},{"path":"https://gillescolling.com/areaOfEffect/reference/get_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Country Polygon by Name or ISO Code — get_country","title":"Get Country Polygon by Name or ISO Code — get_country","text":"Quick accessor country polygons bundled dataset.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/get_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Country Polygon by Name or ISO Code — get_country","text":"","code":"get_country(x)"},{"path":"https://gillescolling.com/areaOfEffect/reference/get_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Country Polygon by Name or ISO Code — get_country","text":"x Country name, ISO2 code, ISO3 code (case-insensitive)","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/get_country.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Country Polygon by Name or ISO Code — get_country","text":"sf object country polygon, error found.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/get_country.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Country Polygon by Name or ISO Code — get_country","text":"","code":"get_country(\"Belgium\") get_country(\"BE\") get_country(\"BEL\")"},{"path":"https://gillescolling.com/areaOfEffect/reference/plot.aoe_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for aoe_result — plot.aoe_result","title":"Plot method for aoe_result — plot.aoe_result","text":"Visualize AoE classification result, showing points colored class optionally support AoE boundaries.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/plot.aoe_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for aoe_result — plot.aoe_result","text":"","code":"# S3 method for class 'aoe_result' plot(   x,   support_id = NULL,   show_aoe = TRUE,   show_original = TRUE,   col_core = \"#2E7D32\",   col_halo = \"#F57C00\",   col_original = \"#000000\",   col_aoe = \"#9E9E9E\",   pch = 16,   cex = 0.8,   main = NULL,   ... )"},{"path":"https://gillescolling.com/areaOfEffect/reference/plot.aoe_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for aoe_result — plot.aoe_result","text":"x aoe_result object support_id Optional: filter specific support(s) show_aoe Logical; show AoE boundary (default TRUE) show_original Logical; show original support boundary (default TRUE) col_core Color core points (default \"#2E7D32\", green) col_halo Color halo points (default \"#F57C00\", orange) col_original Color original support boundary (default \"#000000\") col_aoe Color AoE boundary (default \"#9E9E9E\") pch Point character (default 16) cex Point size (default 0.8) main Plot title (default auto-generated) ... Additional arguments passed plot","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/plot.aoe_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot method for aoe_result — plot.aoe_result","text":"Invisibly returns x","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/plot.aoe_result.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot method for aoe_result — plot.aoe_result","text":"","code":"library(sf)  support <- st_as_sf(   data.frame(id = 1),   geometry = st_sfc(st_polygon(list(     cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0))   ))),   crs = 32631 )  set.seed(42) pts <- st_as_sf(   data.frame(id = 1:50),   geometry = st_sfc(lapply(1:50, function(i) {     st_point(c(runif(1, -5, 15), runif(1, -5, 15)))   })),   crs = 32631 )  result <- aoe(pts, support) plot(result)"},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_area_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for aoe_area_result — print.aoe_area_result","title":"Print method for aoe_area_result — print.aoe_area_result","text":"Print method aoe_area_result","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_area_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for aoe_area_result — print.aoe_area_result","text":"","code":"# S3 method for class 'aoe_area_result' print(x, ...)"},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_area_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for aoe_area_result — print.aoe_area_result","text":"x aoe_area_result object ... Additional arguments (ignored)","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_area_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for aoe_area_result — print.aoe_area_result","text":"Invisibly returns x","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for aoe_result — print.aoe_result","title":"Print method for aoe_result — print.aoe_result","text":"Print method aoe_result","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for aoe_result — print.aoe_result","text":"","code":"# S3 method for class 'aoe_result' print(x, ...)"},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for aoe_result — print.aoe_result","text":"x aoe_result object ... Additional arguments passed print.sf","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for aoe_result — print.aoe_result","text":"Invisibly returns x","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_summary_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for aoe_summary_result — print.aoe_summary_result","title":"Print method for aoe_summary_result — print.aoe_summary_result","text":"Print method aoe_summary_result","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_summary_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for aoe_summary_result — print.aoe_summary_result","text":"","code":"# S3 method for class 'aoe_summary_result' print(x, ...)"},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_summary_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for aoe_summary_result — print.aoe_summary_result","text":"x aoe_summary_result object ... Additional arguments (ignored)","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/print.aoe_summary_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for aoe_summary_result — print.aoe_summary_result","text":"Invisibly returns x","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/sub-.aoe_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset method for aoe_result — [.aoe_result","title":"Subset method for aoe_result — [.aoe_result","text":"Preserves aoe_result attributes subsetting.","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/sub-.aoe_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset method for aoe_result — [.aoe_result","text":"","code":"# S3 method for class 'aoe_result' x[i, ...]"},{"path":"https://gillescolling.com/areaOfEffect/reference/sub-.aoe_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset method for aoe_result — [.aoe_result","text":"x aoe_result object Row indices ... Additional arguments passed sf subsetting","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/sub-.aoe_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset method for aoe_result — [.aoe_result","text":"aoe_result object (sf support_id removed)","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/summary.aoe_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for aoe_result — summary.aoe_result","title":"Summary method for aoe_result — summary.aoe_result","text":"Summary method aoe_result","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/summary.aoe_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for aoe_result — summary.aoe_result","text":"","code":"# S3 method for class 'aoe_result' summary(object, ...)"},{"path":"https://gillescolling.com/areaOfEffect/reference/summary.aoe_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for aoe_result — summary.aoe_result","text":"object aoe_result object ... Additional arguments (ignored)","code":""},{"path":"https://gillescolling.com/areaOfEffect/reference/summary.aoe_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for aoe_result — summary.aoe_result","text":"aoe_summary_result object","code":""},{"path":"https://gillescolling.com/areaOfEffect/news/index.html","id":"areaofeffect-010","dir":"Changelog","previous_headings":"","what":"areaOfEffect 0.1.0","title":"areaOfEffect 0.1.0","text":"Initial CRAN release. ## Core Functionality aoe() classifies points “core” (inside support) “halo” (inside scaled area effect outside original support), pruning points outside Default scale sqrt(2) - 1 produces equal core halo areas - geometrically derived default requiring parameter tuning Multiple supports processed independently long format output Optional mask argument hard boundaries (coastlines, etc.)","code":""},{"path":"https://gillescolling.com/areaOfEffect/news/index.html","id":"s3-class-system-0-1-0","dir":"Changelog","previous_headings":"","what":"S3 Class System","title":"areaOfEffect 0.1.0","text":"aoe_result class extending sf specialized methods print() method showing point counts, supports, scale info summary() method returning area statistics plot() method visualizing points support/AoE boundaries","code":""},{"path":"https://gillescolling.com/areaOfEffect/news/index.html","id":"helper-functions-0-1-0","dir":"Changelog","previous_headings":"","what":"Helper Functions","title":"areaOfEffect 0.1.0","text":"aoe_summary() counts proportions per support aoe_geometry() extract original AoE polygon geometries aoe_area() area statistics including halo:core ratio masking effects","code":""}]
