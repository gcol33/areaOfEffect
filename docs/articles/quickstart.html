<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Quick Start • areaOfEffect</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Quick Start">
</head>
<body>
<p>








  pkgdown/mathjax-config.html

  

  </p>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">areaOfEffect</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/quickstart.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/quickstart.html">Quick Start</a></li>
    <li><a class="dropdown-item" href="../articles/theory.html">Theory</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gcol33/areaOfEffect" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Quick Start</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gcol33/areaOfEffect/blob/HEAD/vignettes/quickstart.Rmd" class="external-link"><code>vignettes/quickstart.Rmd</code></a></small>
      <div class="d-none name"><code>quickstart.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>areaOfEffect</code> package classifies spatial points by
their position relative to a region’s boundary—without requiring sf
expertise.</p>
<p><strong>Dataframe in → dataframe out.</strong></p>
<p>Points are classified as:</p>
<ul>
<li><p><strong>Core</strong>: inside the original support</p></li>
<li><p><strong>Halo</strong>: outside the original but inside the area
of effect</p></li>
<li><p><strong>Pruned</strong>: outside the AoE entirely
(removed)</p></li>
</ul>
<p>By default, halos are defined as <strong>equal area to the
core</strong>—a proportion-based definition that enables consistent
cross-region comparisons.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gillescolling.com/areaOfEffect/" class="external-link">areaOfEffect</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.13.1, GDAL 3.11.4, PROJ 9.7.0; sf_use_s2() is TRUE</span></span></code></pre></div>
<div class="section level3">
<h3 id="from-a-dataframe">From a Dataframe<a class="anchor" aria-label="anchor" href="#from-a-dataframe"></a>
</h3>
<p>The simplest usage: pass a dataframe with coordinates and a country
name.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Your occurrence data</span></span>
<span><span class="va">observations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Oak"</span>, <span class="st">"Beech"</span>, <span class="st">"Pine"</span>, <span class="st">"Spruce"</span><span class="op">)</span>,</span>
<span>  lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14.5</span>, <span class="fl">15.2</span>, <span class="fl">16.8</span>, <span class="fl">20.0</span><span class="op">)</span>,</span>
<span>  lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">47.5</span>, <span class="fl">48.1</span>, <span class="fl">47.2</span>, <span class="fl">48.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Classify relative to Austria</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">observations</span>, <span class="st">"Austria"</span><span class="op">)</span></span>
<span><span class="va">result</span><span class="op">$</span><span class="va">aoe_class</span></span>
<span><span class="co">#&gt; [1] "core" "core" "halo"</span></span></code></pre></div>
<p>The package auto-detects coordinate columns (lon/lat, x/y,
longitude/latitude, etc.).</p>
</div>
<div class="section level3">
<h3 id="from-sf-objects">From sf Objects<a class="anchor" aria-label="anchor" href="#from-sf-objects"></a>
</h3>
<p>sf objects work directly:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts_sf</span>, <span class="st">"AT"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="austria-example">Austria Example<a class="anchor" aria-label="anchor" href="#austria-example"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get Austria and transform to equal-area projection</span></span>
<span><span class="va">austria</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_country.html">get_country</a></span><span class="op">(</span><span class="st">"AT"</span><span class="op">)</span></span>
<span><span class="va">austria_ea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">austria</span>, <span class="st">"ESRI:54009"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a point inside Austria</span></span>
<span><span class="va">dummy_pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_centroid</a></span><span class="op">(</span><span class="va">austria_ea</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: st_centroid assumes attributes are constant over geometries</span></span>
<span></span>
<span><span class="co"># Run aoe() to get geometries (uses buffer method by default)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">dummy_pt</span>, <span class="va">austria_ea</span><span class="op">)</span></span>
<span><span class="va">geoms</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_geometry.html">aoe_geometry</a></span><span class="op">(</span><span class="va">result</span>, <span class="st">"both"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract geometries</span></span>
<span><span class="va">austria_geom</span> <span class="op">&lt;-</span> <span class="va">geoms</span><span class="op">[</span><span class="va">geoms</span><span class="op">$</span><span class="va">type</span> <span class="op">==</span> <span class="st">"original"</span>, <span class="op">]</span></span>
<span><span class="va">aoe_geom</span> <span class="op">&lt;-</span> <span class="va">geoms</span><span class="op">[</span><span class="va">geoms</span><span class="op">$</span><span class="va">type</span> <span class="op">==</span> <span class="st">"aoe"</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Plot</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoe_geom</span><span class="op">)</span>, border <span class="op">=</span> <span class="st">"steelblue"</span>, lty <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">austria_geom</span><span class="op">)</span>, border <span class="op">=</span> <span class="st">"black"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span>       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Austria (core)"</span>, <span class="st">"Area of Effect"</span><span class="op">)</span>,</span>
<span>       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"steelblue"</span><span class="op">)</span>,</span>
<span>       lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>       lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>       inset <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<div class="svg-container"><button type="button" class="btn btn-primary btn-copy-svg" title="Copy SVG to clipboard" aria-label="Copy SVG to clipboard" data-bs-toggle="tooltip" data-bs-placement="left"><i class="fa fa-copy"></i></button>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='504.00pt' height='360.00pt' viewBox='0 0 504.00 360.00' class="r-plt inline-svg" style="max-width:100%;width:100%;height:auto;">
<g class='svglite'>
<defs>
  <style type='text/css'><![CDATA[
    /* theme-aware-processed */
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite circle {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite > g > rect {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
      fill: #3E3F3A;
    }
    .svglite g.glyphgroup path {
      fill: inherit;
      stroke: none;
    }
  ]]></style>
</defs>
<rect width='100%' height='100%' style='stroke: none; fill: #F5F6F8;'/>
<defs>
  <clipPath id='cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA='>
    <rect x='0.00' y='0.00' width='504.00' height='360.00' />
  </clipPath>
</defs>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)'>
</g>
<defs>
  <clipPath id='cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA=='>
    <rect x='14.40' y='14.40' width='475.20' height='331.20' />
  </clipPath>
</defs>
<g clip-path='url(#cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA==)'>
<rect class='legend-bg' x='14.40' y='14.40' width='475.20' height='331.20' style='stroke-width: 0.75; stroke: #F5F6F8; fill: #F5F6F8;' />
<path d='M 34.21 203.08 L 33.71 201.76 L 33.23 200.26 L 32.82 198.73 L 32.50 197.18 L 32.25 195.62 L 32.09 194.05 L 32.00 192.47 L 32.00 190.89 L 32.08 189.31 L 32.24 187.73 L 32.48 186.17 L 32.81 184.62 L 33.21 183.09 L 33.69 181.59 L 34.25 180.11 L 34.89 178.66 L 35.59 177.24 L 36.37 175.87 L 37.23 174.54 L 38.14 173.25 L 39.13 172.01 L 40.18 170.82 L 41.28 169.69 L 42.45 168.62 L 43.66 167.61 L 44.93 166.67 L 46.25 165.79 L 47.61 164.98 L 48.80 164.31 L 50.20 163.57 L 51.63 162.91 L 53.09 162.32 L 54.58 161.81 L 56.10 161.37 L 57.63 161.02 L 59.18 160.74 L 60.30 160.60 L 61.46 160.07 L 62.95 159.47 L 64.47 158.95 L 66.02 158.51 L 67.58 158.15 L 69.16 157.88 L 70.76 157.69 L 72.36 157.58 L 73.97 157.56 L 75.57 157.62 L 77.17 157.77 L 78.76 158.00 L 80.33 158.31 L 81.89 158.71 L 83.42 159.18 L 88.10 160.77 L 89.62 161.34 L 91.10 161.97 L 93.55 163.11 L 93.93 162.89 L 95.36 162.16 L 96.82 161.51 L 98.32 160.94 L 99.84 160.45 L 101.39 160.03 L 102.96 159.70 L 104.54 159.46 L 106.13 159.29 L 107.73 159.21 L 109.33 159.21 L 110.93 159.30 L 112.52 159.47 L 114.00 159.70 L 118.27 159.52 L 119.98 159.50 L 121.70 159.57 L 123.40 159.74 L 125.10 160.00 L 126.77 160.36 L 128.43 160.81 L 129.87 161.29 L 131.75 161.37 L 133.36 161.48 L 134.96 161.67 L 136.54 161.94 L 138.11 162.30 L 139.66 162.74 L 141.18 163.26 L 142.68 163.86 L 144.14 164.54 L 145.56 165.30 L 146.08 165.61 L 146.93 165.29 L 147.61 165.05 L 149.77 163.74 L 151.26 162.90 L 152.80 162.14 L 154.37 161.46 L 155.98 160.88 L 162.93 158.57 L 164.51 158.10 L 166.11 157.70 L 167.72 157.40 L 169.35 157.18 L 174.90 156.60 L 175.75 155.78 L 176.99 154.71 L 178.28 153.71 L 179.63 152.78 L 181.02 151.92 L 182.46 151.14 L 183.94 150.43 L 185.45 149.81 L 186.99 149.27 L 188.56 148.81 L 190.16 148.43 L 190.65 148.34 L 190.77 147.36 L 191.04 145.82 L 191.38 144.31 L 191.80 142.81 L 192.30 141.33 L 192.87 139.89 L 193.52 138.47 L 194.23 137.09 L 195.02 135.75 L 197.29 132.08 L 198.16 130.75 L 199.10 129.47 L 200.10 128.24 L 201.17 127.06 L 202.29 125.94 L 203.47 124.88 L 204.71 123.88 L 208.53 120.96 L 209.69 120.12 L 210.89 119.33 L 212.12 118.60 L 220.77 113.73 L 222.25 112.95 L 222.68 112.76 L 223.00 111.64 L 223.50 110.14 L 224.09 108.68 L 224.74 107.24 L 225.47 105.84 L 226.28 104.48 L 227.15 103.17 L 228.09 101.90 L 229.09 100.68 L 230.15 99.51 L 231.27 98.41 L 231.43 98.25 L 232.55 97.14 L 233.74 96.10 L 234.97 95.12 L 236.25 94.20 L 237.58 93.36 L 238.95 92.58 L 240.35 91.87 L 241.80 91.23 L 241.93 91.18 L 242.38 90.44 L 243.28 89.11 L 244.26 87.83 L 245.30 86.60 L 246.40 85.43 L 247.56 84.32 L 248.78 83.27 L 250.05 82.29 L 251.38 81.37 L 252.75 80.53 L 254.16 79.76 L 255.61 79.06 L 257.09 78.44 L 258.61 77.90 L 260.15 77.44 L 261.71 77.06 L 263.30 76.77 L 264.89 76.56 L 266.49 76.43 L 268.10 76.39 L 269.71 76.43 L 271.31 76.56 L 272.91 76.77 L 274.49 77.06 L 276.05 77.44 L 277.60 77.90 L 279.07 78.38 L 280.50 78.89 L 281.91 79.47 L 283.29 80.12 L 287.60 82.28 L 288.83 82.94 L 290.04 83.65 L 291.21 84.42 L 293.55 86.03 L 293.77 85.05 L 294.18 83.51 L 294.67 82.00 L 295.25 80.52 L 295.89 79.07 L 296.62 77.66 L 297.41 76.28 L 298.27 74.95 L 299.21 73.66 L 300.10 72.50 L 301.09 71.27 L 302.14 70.10 L 303.25 68.99 L 304.41 67.93 L 305.63 66.93 L 306.90 66.00 L 308.21 65.14 L 309.57 64.34 L 310.96 63.61 L 312.39 62.96 L 313.85 62.38 L 315.34 61.88 L 316.86 61.45 L 318.39 61.11 L 319.94 60.84 L 321.50 60.65 L 323.07 60.55 L 324.65 60.52 L 326.22 60.57 L 329.88 60.79 L 331.40 60.93 L 332.93 61.13 L 334.43 61.42 L 335.93 61.78 L 337.40 62.21 L 338.06 62.44 L 339.40 62.37 L 341.03 62.36 L 342.65 62.44 L 344.26 62.61 L 345.86 62.86 L 347.45 63.19 L 352.16 64.32 L 353.62 64.71 L 355.06 65.17 L 356.47 65.70 L 357.86 66.30 L 365.30 69.74 L 367.53 69.78 L 369.09 69.86 L 370.64 70.01 L 372.19 70.25 L 373.72 70.56 L 375.24 70.95 L 376.73 71.42 L 378.19 71.96 L 379.63 72.58 L 381.03 73.27 L 382.40 74.03 L 387.22 76.87 L 388.39 76.37 L 389.87 75.81 L 391.37 75.34 L 392.89 74.94 L 394.43 74.62 L 395.98 74.39 L 397.55 74.23 L 399.12 74.15 L 400.69 74.15 L 402.26 74.24 L 405.56 74.50 L 407.34 74.69 L 409.11 74.99 L 410.86 75.39 L 412.59 75.90 L 415.58 76.87 L 417.29 77.48 L 418.95 78.19 L 420.57 79.00 L 423.05 80.33 L 424.68 80.62 L 426.46 81.05 L 429.07 81.77 L 430.63 82.25 L 432.17 82.80 L 433.67 83.44 L 435.14 84.16 L 436.56 84.95 L 437.94 85.82 L 439.27 86.76 L 440.55 87.77 L 441.78 88.85 L 442.94 89.99 L 444.05 91.20 L 445.09 92.46 L 446.05 93.77 L 446.95 95.13 L 447.77 96.54 L 449.05 98.86 L 449.47 99.36 L 450.41 100.62 L 451.29 101.92 L 452.10 103.26 L 452.84 104.65 L 453.51 106.07 L 454.10 107.52 L 454.62 109.00 L 455.07 110.51 L 455.43 112.04 L 455.72 113.58 L 455.92 115.14 L 456.05 116.70 L 456.09 118.27 L 456.06 119.81 L 456.08 120.15 L 456.11 121.74 L 456.07 123.33 L 455.94 124.91 L 455.72 126.49 L 455.54 127.48 L 456.25 128.73 L 460.97 134.94 L 461.51 135.68 L 462.23 136.31 L 463.38 137.44 L 464.47 138.63 L 465.50 139.87 L 466.46 141.17 L 467.36 142.52 L 468.18 143.91 L 468.92 145.34 L 469.59 146.81 L 470.18 148.31 L 470.69 149.85 L 471.12 151.40 L 471.46 152.98 L 471.72 154.57 L 471.90 156.18 L 471.99 157.79 L 472.00 159.41 L 471.92 161.02 L 471.76 162.63 L 471.51 164.22 L 471.18 165.80 L 470.76 167.36 L 470.27 168.90 L 469.75 170.24 L 470.16 171.69 L 470.50 173.27 L 470.77 174.86 L 470.95 176.46 L 471.05 178.06 L 471.06 179.68 L 470.99 181.28 L 470.83 182.89 L 470.59 184.48 L 470.26 186.06 L 469.86 187.62 L 469.37 189.15 L 468.80 190.66 L 468.15 192.13 L 467.43 193.57 L 466.63 194.97 L 465.75 196.33 L 464.81 197.63 L 463.80 198.89 L 462.73 200.09 L 461.59 201.23 L 460.40 202.31 L 459.15 203.33 L 457.84 204.28 L 456.49 205.15 L 455.10 205.96 L 453.66 206.69 L 452.19 207.35 L 450.69 207.93 L 449.16 208.42 L 449.13 208.43 L 449.01 208.74 L 448.37 210.15 L 447.66 211.53 L 447.25 212.25 L 447.56 213.78 L 447.81 215.44 L 447.97 217.10 L 448.04 218.78 L 448.02 220.45 L 447.93 222.41 L 447.87 224.50 L 447.79 226.06 L 447.62 227.61 L 447.38 229.16 L 446.93 231.59 L 446.70 232.75 L 446.45 233.82 L 446.06 235.39 L 445.58 236.94 L 445.02 238.46 L 444.38 239.95 L 443.66 241.40 L 442.87 242.81 L 442.00 244.18 L 441.06 245.50 L 440.05 246.77 L 438.98 247.98 L 437.84 249.13 L 436.65 250.23 L 435.40 251.25 L 434.09 252.21 L 432.74 253.10 L 431.34 253.92 L 429.90 254.66 L 428.51 255.34 L 427.04 256.00 L 425.54 256.58 L 424.73 256.85 L 424.68 256.99 L 424.17 258.50 L 423.57 259.98 L 422.90 261.42 L 422.83 261.55 L 422.21 262.94 L 421.49 264.35 L 420.69 265.73 L 419.83 267.07 L 418.89 268.35 L 417.90 269.59 L 416.83 270.77 L 415.71 271.90 L 414.53 272.97 L 413.30 273.97 L 412.01 274.91 L 410.68 275.78 L 409.31 276.58 L 407.89 277.30 L 406.44 277.96 L 404.96 278.53 L 403.45 279.03 L 401.92 279.45 L 400.36 279.79 L 398.80 280.05 L 397.22 280.22 L 395.63 280.32 L 394.04 280.33 L 392.45 280.26 L 390.87 280.10 L 389.29 279.87 L 387.74 279.55 L 386.38 279.23 L 385.06 279.79 L 383.53 280.35 L 378.36 282.07 L 376.89 282.52 L 375.40 282.89 L 373.90 283.19 L 372.38 283.42 L 370.85 283.56 L 369.32 283.63 L 367.78 283.62 L 366.25 283.54 L 357.68 282.85 L 357.49 282.87 L 357.43 282.94 L 356.26 284.13 L 355.02 285.25 L 353.73 286.30 L 352.37 287.28 L 348.78 289.74 L 347.41 290.63 L 346.95 290.90 L 345.73 291.92 L 344.42 292.91 L 343.14 293.82 L 341.79 294.73 L 340.39 295.56 L 338.96 296.32 L 337.48 297.00 L 335.97 297.60 L 334.43 298.12 L 332.87 298.56 L 331.28 298.92 L 329.68 299.19 L 328.06 299.37 L 326.44 299.47 L 324.82 299.48 L 323.19 299.41 L 321.58 299.25 L 319.97 299.00 L 318.38 298.67 L 316.81 298.25 L 315.66 297.88 L 314.31 297.62 L 312.81 297.24 L 312.02 297.00 L 307.25 296.47 L 305.60 296.24 L 296.87 294.78 L 295.34 294.48 L 293.83 294.11 L 292.34 293.66 L 289.42 292.70 L 286.79 292.09 L 284.43 291.67 L 281.91 291.55 L 279.92 291.39 L 277.95 291.10 L 275.67 290.69 L 274.45 290.45 L 266.40 288.66 L 262.32 288.57 L 261.03 288.52 L 259.74 288.40 L 250.31 287.39 L 249.04 287.22 L 247.77 287.00 L 228.87 283.34 L 226.78 282.85 L 223.81 282.06 L 221.27 281.84 L 219.55 281.64 L 217.84 281.34 L 211.63 280.07 L 210.11 279.72 L 208.62 279.29 L 207.15 278.79 L 205.71 278.22 L 200.86 276.15 L 199.45 275.50 L 198.07 274.78 L 196.73 273.99 L 195.44 273.14 L 194.19 272.22 L 192.98 271.24 L 191.83 270.20 L 190.73 269.10 L 189.69 267.95 L 186.31 264.02 L 185.42 262.92 L 184.57 261.79 L 182.58 258.98 L 182.04 259.03 L 180.53 259.11 L 176.67 259.21 L 175.23 259.21 L 173.79 259.14 L 172.35 259.01 L 170.93 258.81 L 169.51 258.54 L 169.42 258.52 L 168.72 258.67 L 168.21 258.76 L 167.98 259.11 L 167.01 260.42 L 165.98 261.67 L 164.87 262.86 L 163.71 264.00 L 162.22 265.37 L 160.99 266.46 L 159.70 267.47 L 158.35 268.41 L 156.96 269.28 L 155.52 270.07 L 154.05 270.79 L 152.53 271.42 L 150.99 271.98 L 149.42 272.44 L 147.82 272.83 L 146.21 273.13 L 142.91 273.64 L 141.13 273.87 L 139.35 273.99 L 137.56 274.01 L 135.77 273.92 L 130.73 273.52 L 129.20 273.36 L 127.68 273.13 L 126.18 272.81 L 124.69 272.43 L 123.22 271.97 L 119.60 270.72 L 118.09 270.16 L 116.62 269.52 L 115.18 268.81 L 113.92 268.10 L 112.66 268.04 L 111.04 267.88 L 109.42 267.63 L 107.82 267.30 L 106.52 266.95 L 105.29 267.32 L 103.73 267.70 L 102.15 267.99 L 100.55 268.20 L 98.95 268.33 L 97.35 268.37 L 95.74 268.33 L 94.14 268.20 L 92.55 267.99 L 90.97 267.70 L 89.40 267.32 L 87.86 266.86 L 80.73 264.54 L 79.29 264.03 L 77.87 263.44 L 76.49 262.79 L 75.14 262.07 L 68.79 258.47 L 67.42 257.65 L 66.10 256.76 L 64.83 255.80 L 63.61 254.78 L 62.44 253.69 L 62.43 253.68 L 61.76 253.56 L 60.19 253.19 L 58.64 252.73 L 57.11 252.19 L 55.62 251.57 L 54.16 250.87 L 52.74 250.09 L 51.36 249.24 L 50.03 248.32 L 48.75 247.33 L 47.53 246.28 L 46.36 245.16 L 45.25 243.98 L 44.21 242.74 L 43.23 241.45 L 42.32 240.11 L 41.49 238.73 L 40.73 237.30 L 40.04 235.83 L 39.44 234.33 L 38.91 232.80 L 38.47 231.25 L 38.11 229.67 L 37.83 228.08 L 37.64 226.47 L 37.60 225.90 L 37.59 225.87 L 37.05 224.34 L 36.58 222.79 L 36.31 221.67 L 36.10 221.07 L 36.08 221.00 L 35.61 219.84 L 35.06 218.29 L 34.61 216.71 L 34.24 215.11 L 33.95 213.49 L 33.76 211.85 L 33.65 210.21 L 33.63 208.57 L 33.69 206.93 L 33.85 205.29 L 34.09 203.66 L 34.21 203.08 Z' style='fill-rule: evenodd; stroke-width: 1.12; stroke: #4682B4; stroke-dasharray: 6.00,6.00;' />
<path d='M 64.76 210.11 L 64.20 209.01 L 67.62 200.71 L 68.03 195.56 L 64.17 192.54 L 62.56 191.64 L 63.76 190.97 L 68.93 191.53 L 72.03 189.83 L 73.59 188.13 L 78.27 189.72 L 85.22 192.94 L 88.56 195.11 L 90.00 196.79 L 90.85 198.20 L 90.67 200.60 L 92.27 201.55 L 95.45 201.91 L 97.61 202.66 L 97.16 205.82 L 97.25 208.46 L 100.13 208.09 L 103.59 206.08 L 106.11 202.47 L 107.55 198.99 L 108.10 190.49 L 108.49 189.77 L 110.73 190.44 L 119.55 190.07 L 123.88 191.65 L 130.52 191.92 L 130.53 193.25 L 131.90 195.32 L 135.13 198.32 L 136.76 200.28 L 139.88 200.62 L 144.52 199.54 L 147.19 198.42 L 148.31 199.22 L 152.57 198.44 L 156.17 196.02 L 156.93 194.18 L 160.68 192.88 L 165.61 189.90 L 172.57 187.59 L 195.89 185.12 L 196.61 183.26 L 195.80 179.00 L 196.35 178.37 L 199.44 179.43 L 204.31 180.43 L 208.12 181.94 L 210.71 183.91 L 212.92 183.99 L 216.16 182.61 L 220.67 181.72 L 225.20 183.76 L 226.70 185.98 L 226.07 187.11 L 226.36 188.91 L 227.87 190.41 L 231.65 192.86 L 236.38 194.97 L 238.69 194.80 L 239.32 192.75 L 239.59 187.88 L 239.30 182.69 L 237.92 179.71 L 235.42 178.98 L 232.51 178.74 L 230.91 178.12 L 231.25 176.49 L 233.07 172.26 L 232.38 166.60 L 226.45 160.17 L 221.24 153.95 L 221.01 151.84 L 223.28 148.17 L 227.10 145.25 L 235.75 140.39 L 238.54 139.38 L 242.17 138.56 L 247.30 136.56 L 249.63 134.51 L 251.10 132.29 L 252.19 120.70 L 252.72 120.21 L 253.38 119.53 L 263.25 123.52 L 264.02 122.86 L 265.51 122.21 L 268.18 119.15 L 268.56 116.82 L 267.94 112.43 L 267.68 108.28 L 268.10 106.96 L 269.57 107.44 L 273.87 109.60 L 277.38 112.02 L 281.16 118.12 L 288.37 119.75 L 297.22 119.91 L 300.02 117.19 L 302.80 116.56 L 306.15 117.39 L 313.11 118.35 L 313.21 113.41 L 316.45 108.29 L 317.99 106.48 L 323.00 106.66 L 323.71 102.84 L 323.48 92.25 L 324.37 91.09 L 328.03 91.31 L 331.90 93.24 L 333.21 94.80 L 335.07 94.68 L 337.55 93.61 L 340.33 92.93 L 345.04 94.05 L 355.45 98.86 L 360.73 100.62 L 363.86 100.28 L 366.85 100.35 L 379.44 107.79 L 387.64 108.83 L 394.98 108.86 L 397.00 106.61 L 399.84 104.71 L 403.14 104.98 L 406.13 105.95 L 412.17 109.18 L 414.86 110.01 L 418.35 110.53 L 420.97 111.25 L 424.06 116.87 L 425.52 118.37 L 425.42 119.07 L 425.54 121.63 L 424.10 124.85 L 422.67 129.07 L 423.37 132.78 L 430.69 145.63 L 436.65 153.46 L 438.01 156.44 L 441.43 158.73 L 438.96 161.62 L 439.04 165.90 L 437.44 167.80 L 437.32 170.25 L 438.45 172.48 L 438.86 175.26 L 440.49 179.10 L 435.94 179.94 L 430.35 179.81 L 428.39 180.03 L 426.69 181.08 L 424.68 180.56 L 419.11 176.95 L 416.16 176.17 L 414.18 176.38 L 412.91 177.95 L 410.62 179.96 L 408.40 181.37 L 409.12 182.61 L 420.04 185.85 L 422.63 190.83 L 421.21 194.90 L 420.82 196.89 L 418.60 198.46 L 415.79 199.84 L 412.22 200.18 L 412.11 202.38 L 414.46 208.84 L 413.51 210.24 L 412.64 212.25 L 414.49 217.57 L 416.80 217.95 L 417.47 219.17 L 417.38 221.32 L 417.31 223.62 L 416.87 226.05 L 416.62 227.12 L 415.23 227.80 L 410.51 227.44 L 406.78 229.52 L 399.74 236.99 L 397.08 238.26 L 394.43 241.24 L 395.52 247.82 L 395.18 248.41 L 394.62 249.76 L 384.61 247.44 L 384.28 247.48 L 377.90 248.33 L 373.86 251.34 L 368.70 253.07 L 357.27 252.15 L 346.41 253.32 L 343.91 254.20 L 341.12 254.70 L 338.66 256.45 L 337.45 258.93 L 335.10 262.06 L 331.51 264.52 L 327.50 266.40 L 326.69 268.00 L 325.40 268.91 L 322.89 267.72 L 320.98 267.78 L 318.54 266.97 L 310.64 266.08 L 301.91 264.62 L 297.67 263.23 L 292.91 262.12 L 287.83 261.22 L 283.36 261.01 L 281.07 260.60 L 270.09 258.17 L 263.02 258.01 L 253.59 256.99 L 234.69 253.32 L 229.15 251.84 L 223.95 251.38 L 217.74 250.11 L 212.89 248.04 L 209.51 244.10 L 205.80 238.87 L 199.30 232.04 L 197.76 228.64 L 199.21 225.65 L 200.78 223.41 L 200.47 222.44 L 199.01 221.95 L 189.20 224.86 L 179.76 228.55 L 175.90 228.64 L 172.07 227.82 L 167.10 227.77 L 162.42 228.75 L 152.90 229.26 L 147.56 231.98 L 144.50 237.27 L 142.96 241.55 L 141.47 242.92 L 138.17 243.44 L 133.13 243.04 L 129.50 241.80 L 125.59 238.15 L 119.98 237.64 L 114.88 237.55 L 113.47 236.87 L 113.34 234.50 L 110.93 230.04 L 107.48 228.64 L 99.63 237.05 L 97.34 237.80 L 90.21 235.47 L 83.85 231.87 L 82.96 229.24 L 81.80 227.08 L 76.54 225.04 L 70.09 223.64 L 68.08 223.65 L 68.76 222.38 L 69.33 220.23 L 68.71 218.52 L 67.08 216.75 L 66.11 214.86 L 65.72 213.02 L 65.15 211.52 L 64.76 210.11 Z' style='fill-rule: evenodd; stroke-width: 1.50;' />
<rect class='legend-bg' x='359.06' y='21.02' width='121.04' height='43.20' style='stroke-width: 0.75; fill: #F5F6F8;' />
<line x1='369.86' y1='35.42' x2='391.46' y2='35.42' style='stroke-width: 1.50;' />
<line x1='369.86' y1='49.82' x2='391.46' y2='49.82' style='stroke-width: 1.12; stroke: #4682B4; stroke-dasharray: 6.00,6.00;' />
<text x='402.26' y='39.72' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='72.02px' lengthAdjust='spacingAndGlyphs'>Austria (core)</text>
<text x='402.26' y='54.12' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='72.44px' lengthAdjust='spacingAndGlyphs'>Area of Effect</text>
</g>
</g>
</svg></div><p class="caption">
Austria (black) with its area of effect (dashed blue). The halo has
equal area to the core.
</p>
</div>
</div>
<div class="section level2">
<h2 id="basic-usage-with-custom-polygons">Basic Usage with Custom Polygons<a class="anchor" aria-label="anchor" href="#basic-usage-with-custom-polygons"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">support</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Create observation points:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span>
<span>    value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">15</span>, <span class="fl">25</span>, <span class="fl">30</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,   <span class="co"># center</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,   <span class="co"># near corner</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">95</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,   <span class="co"># near edge</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">120</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># outside, in halo</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">250</span><span class="op">)</span><span class="op">)</span>  <span class="co"># far outside</span></span>
<span>  <span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Apply the area of effect:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt; Area of Effect Result</span></span>
<span><span class="co">#&gt; ─────────────────────</span></span>
<span><span class="co">#&gt; Points:   4 (3 core, 1 halo)</span></span>
<span><span class="co">#&gt; Supports: 1</span></span>
<span><span class="co">#&gt; Scale:    0.414 (multiplier 1.41, theoretical halo:core 1.00)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 5 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 10 ymin: 10 xmax: 120 ymax: 50</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 31N</span></span>
<span><span class="co">#&gt;   point_id support_id aoe_class id value       geometry</span></span>
<span><span class="co">#&gt; 1        1          1      core  1    10  POINT (50 50)</span></span>
<span><span class="co">#&gt; 2        2          1      core  2    20  POINT (10 10)</span></span>
<span><span class="co">#&gt; 3        3          1      core  3    15  POINT (95 50)</span></span>
<span><span class="co">#&gt; 4        4          1      halo  4    25 POINT (120 50)</span></span></code></pre></div>
<p>The result contains only points inside the AoE, with their
classification:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span><span class="op">$</span><span class="va">aoe_class</span></span>
<span><span class="co">#&gt; [1] "core" "core" "core" "halo"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="multiple-supports">Multiple Supports<a class="anchor" aria-label="anchor" href="#multiple-supports"></a>
</h2>
<p>Process multiple regions at once:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Two adjacent regions</span></span>
<span><span class="va">supports</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">50</span>, <span class="fl">50</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Points that may fall in overlapping AoEs</span></span>
<span><span class="va">pts_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,   <span class="co"># inside A</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,   <span class="co"># on boundary</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">75</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>    <span class="co"># inside B</span></span>
<span>  <span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts_multi</span>, <span class="va">supports</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result_multi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Area of Effect Result</span></span>
<span><span class="co">#&gt; ─────────────────────</span></span>
<span><span class="co">#&gt; Points:   4 (4 core, 0 halo)</span></span>
<span><span class="co">#&gt; Supports: 2</span></span>
<span><span class="co">#&gt; Scale:    0.414 (multiplier 1.41, theoretical halo:core 1.00)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Simple feature collection with 4 features and 4 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 25 ymin: 50 xmax: 75 ymax: 50</span></span>
<span><span class="co">#&gt; Projected CRS: WGS 84 / UTM zone 31N</span></span>
<span><span class="co">#&gt;   point_id support_id aoe_class id      geometry</span></span>
<span><span class="co">#&gt; 1        1          1      core  1 POINT (25 50)</span></span>
<span><span class="co">#&gt; 2        2          1      core  2 POINT (50 50)</span></span>
<span><span class="co">#&gt; 3        2          2      core  2 POINT (50 50)</span></span>
<span><span class="co">#&gt; 4        3          2      core  3 POINT (75 50)</span></span></code></pre></div>
<p>Points can appear multiple times (once per support whose AoE contains
them).</p>
</div>
<div class="section level2">
<h2 id="using-a-mask-coastlines">Using a Mask (Coastlines)<a class="anchor" aria-label="anchor" href="#using-a-mask-coastlines"></a>
</h2>
<p>For coastal regions, sea is a hard boundary. Provide a mask to
constrain the AoE:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a coastal support</span></span>
<span><span class="va">support_coast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">80</span>, <span class="fl">80</span>, <span class="fl">40</span>, <span class="fl">40</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">20</span>, <span class="fl">60</span>, <span class="fl">60</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create land mask (irregular coastline)</span></span>
<span><span class="va">land_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">70</span>, <span class="fl">50</span>, <span class="fl">30</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">50</span>, <span class="fl">60</span>, <span class="fl">55</span>, <span class="fl">70</span>, <span class="fl">60</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create some points</span></span>
<span><span class="va">pts_coast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">60</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># core</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># core</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span>,  <span class="co"># halo (on land)</span></span>
<span>    <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">90</span>, <span class="fl">70</span><span class="op">)</span><span class="op">)</span>   <span class="co"># would be halo but in sea</span></span>
<span>  <span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply with mask</span></span>
<span><span class="va">result_coast</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts_coast</span>, <span class="va">support_coast</span>, mask <span class="op">=</span> <span class="va">land_mask</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get geometries for visualization</span></span>
<span><span class="va">aoe_masked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_geometry.html">aoe_geometry</a></span><span class="op">(</span><span class="va">result_coast</span>, <span class="st">"aoe"</span><span class="op">)</span></span>
<span><span class="va">support_geom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_geometry.html">aoe_geometry</a></span><span class="op">(</span><span class="va">result_coast</span>, <span class="st">"original"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">land_mask</span><span class="op">)</span>, col <span class="op">=</span> <span class="cn">NA</span>, border <span class="op">=</span> <span class="st">"steelblue"</span>, lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">110</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoe_masked</span><span class="op">)</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>     border <span class="op">=</span> <span class="st">"steelblue"</span>, lty <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">support_geom</span><span class="op">)</span>, border <span class="op">=</span> <span class="st">"black"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add points with colors</span></span>
<span><span class="va">cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">result_coast</span><span class="op">$</span><span class="va">aoe_class</span> <span class="op">==</span> <span class="st">"core"</span>, <span class="st">"forestgreen"</span>, <span class="st">"darkorange"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">result_coast</span><span class="op">)</span>, col <span class="op">=</span> <span class="va">cols</span>, pch <span class="op">=</span> <span class="fl">16</span>, cex <span class="op">=</span> <span class="fl">1.5</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Show pruned point</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">pts_coast</span><span class="op">)</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span>, col <span class="op">=</span> <span class="st">"gray60"</span>, pch <span class="op">=</span> <span class="fl">4</span>, cex <span class="op">=</span> <span class="fl">1.2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">85</span>, <span class="fl">75</span>, <span class="st">"SEA"</span>, col <span class="op">=</span> <span class="st">"steelblue"</span>, font <span class="op">=</span> <span class="fl">2</span>, cex <span class="op">=</span> <span class="fl">1.2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>,</span>
<span>       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Support"</span>, <span class="st">"AoE (masked)"</span>, <span class="st">"Coastline"</span>, <span class="st">"Core"</span>, <span class="st">"Halo"</span>, <span class="st">"Pruned"</span><span class="op">)</span>,</span>
<span>       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"steelblue"</span>, <span class="st">"steelblue"</span>, <span class="st">"forestgreen"</span>, <span class="st">"darkorange"</span>, <span class="st">"gray60"</span><span class="op">)</span>,</span>
<span>       lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>       lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>       pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">16</span>, <span class="fl">16</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>       pt.cex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">1.5</span>, <span class="fl">1.5</span>, <span class="fl">1.2</span><span class="op">)</span>,</span>
<span>       inset <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<div class="svg-container"><button type="button" class="btn btn-primary btn-copy-svg" title="Copy SVG to clipboard" aria-label="Copy SVG to clipboard" data-bs-toggle="tooltip" data-bs-placement="left"><i class="fa fa-copy"></i></button>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='504.00pt' height='360.00pt' viewBox='0 0 504.00 360.00' class="r-plt inline-svg" style="max-width:100%;width:100%;height:auto;">
<g class='svglite'>
<defs>
  <style type='text/css'><![CDATA[
    /* theme-aware-processed */
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite circle {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite > g > rect {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
      fill: #3E3F3A;
    }
    .svglite g.glyphgroup path {
      fill: inherit;
      stroke: none;
    }
  ]]></style>
</defs>
<rect width='100%' height='100%' style='stroke: none; fill: #F5F6F8;'/>
<defs>
  <clipPath id='cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA='>
    <rect x='0.00' y='0.00' width='504.00' height='360.00' />
  </clipPath>
</defs>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)'>
</g>
<defs>
  <clipPath id='cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA=='>
    <rect x='14.40' y='14.40' width='475.20' height='331.20' />
  </clipPath>
</defs>
<g clip-path='url(#cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA==)'>
<rect class='legend-bg' x='14.40' y='14.40' width='475.20' height='331.20' style='stroke-width: 0.75; stroke: #F5F6F8; fill: #F5F6F8;' />
<path d='M 98.67 302.67 L 405.33 302.67 L 405.33 149.33 L 313.33 118.67 L 252.00 134.00 L 190.67 88.00 L 98.67 118.67 L 98.67 302.67 Z' style='fill-rule: evenodd; stroke-width: 1.50; stroke: #4682B4;' />
<path d='M 219.96 267.55 L 218.59 267.44 L 217.23 267.27 L 215.87 267.01 L 214.54 266.69 L 213.22 266.30 L 211.92 265.84 L 210.65 265.32 L 209.41 264.73 L 208.21 264.07 L 207.03 263.35 L 205.90 262.57 L 204.81 261.74 L 203.77 260.84 L 202.77 259.90 L 201.82 258.90 L 200.93 257.86 L 200.09 256.77 L 199.31 255.63 L 198.60 254.46 L 197.94 253.25 L 197.35 252.01 L 196.82 250.74 L 196.36 249.45 L 195.97 248.13 L 195.65 246.79 L 195.40 245.44 L 195.22 244.08 L 195.11 242.71 L 195.08 241.33 L 195.08 118.67 L 195.11 117.29 L 195.22 115.92 L 195.40 114.56 L 195.65 113.21 L 195.97 111.87 L 196.36 110.55 L 196.82 109.26 L 197.35 107.99 L 197.94 106.75 L 198.60 105.54 L 199.31 104.37 L 200.09 103.23 L 200.93 102.14 L 201.82 101.10 L 202.77 100.10 L 203.77 99.16 L 204.60 98.45 L 252.00 134.00 L 313.33 118.67 L 370.26 137.64 L 370.26 241.33 L 370.22 242.71 L 370.11 244.08 L 369.93 245.44 L 369.68 246.79 L 369.36 248.13 L 368.97 249.45 L 368.51 250.74 L 367.99 252.01 L 367.39 253.25 L 366.74 254.46 L 366.02 255.63 L 365.24 256.77 L 364.40 257.86 L 363.51 258.90 L 362.57 259.90 L 361.57 260.84 L 360.52 261.74 L 359.43 262.57 L 358.30 263.35 L 357.13 264.07 L 355.92 264.73 L 354.68 265.32 L 353.41 265.84 L 352.11 266.30 L 350.80 266.69 L 349.46 267.01 L 348.11 267.27 L 346.74 267.44 L 345.37 267.55 L 344.00 267.59 L 221.33 267.59 L 219.96 267.55 Z' style='fill-rule: evenodd; fill: #808080; fill-opacity: 0.30; stroke-width: 0.75; stroke: #4682B4; stroke-dasharray: 4.00,4.00;' />
<path d='M 221.33 241.33 L 221.33 118.67 L 344.00 118.67 L 344.00 241.33 L 221.33 241.33 Z' style='fill-rule: evenodd; stroke-width: 1.50;' />
<circle cx='282.67' cy='180.00' r='4.05' style='stroke-width: 0.75; stroke: none; fill: #228B22;' />
<circle cx='252.00' cy='210.67' r='4.05' style='stroke-width: 0.75; stroke: none; fill: #228B22;' />
<line x1='371.43' y1='91.24' x2='377.91' y2='84.76' style='stroke-width: 0.75; stroke: #999999;' />
<line x1='371.43' y1='84.76' x2='377.91' y2='91.24' style='stroke-width: 0.75; stroke: #999999;' />
<text x='359.33' y='77.81' text-anchor='middle' style='font-size: 14.40px; font-weight: bold;fill: #4682B4; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='29.58px' lengthAdjust='spacingAndGlyphs'>SEA</text>
<rect class='legend-bg' x='23.90' y='21.02' width='117.06' height='100.80' style='stroke-width: 0.75; fill: #F5F6F8;' />
<line x1='27.14' y1='35.42' x2='48.74' y2='35.42' style='stroke-width: 1.50;' />
<line x1='27.14' y1='49.82' x2='48.74' y2='49.82' style='stroke-width: 0.75; stroke: #4682B4; stroke-dasharray: 4.00,4.00;' />
<line x1='27.14' y1='64.22' x2='48.74' y2='64.22' style='stroke-width: 1.50; stroke: #4682B4;' />
<circle cx='37.94' cy='78.62' r='4.05' style='stroke-width: 0.75; stroke: none; fill: #228B22;' />
<circle cx='37.94' cy='93.02' r='4.05' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<line x1='34.70' y1='110.66' x2='41.18' y2='104.18' style='stroke-width: 0.75; stroke: #999999;' />
<line x1='34.70' y1='104.18' x2='41.18' y2='110.66' style='stroke-width: 0.75; stroke: #999999;' />
<text x='59.54' y='39.72' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='42.02px' lengthAdjust='spacingAndGlyphs'>Support</text>
<text x='59.54' y='54.12' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='76.02px' lengthAdjust='spacingAndGlyphs'>AoE (masked)</text>
<text x='59.54' y='68.52' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='50.03px' lengthAdjust='spacingAndGlyphs'>Coastline</text>
<text x='59.54' y='82.92' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='26.02px' lengthAdjust='spacingAndGlyphs'>Core</text>
<text x='59.54' y='97.32' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='24.69px' lengthAdjust='spacingAndGlyphs'>Halo</text>
<text x='59.54' y='111.72' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='38.69px' lengthAdjust='spacingAndGlyphs'>Pruned</text>
</g>
</g>
</svg></div><p class="caption">
AoE with land mask. The AoE is clipped to the land boundary.
</p>
</div>
<div class="section level3">
<h3 id="real-world-example-portugal">Real-World Example: Portugal<a class="anchor" aria-label="anchor" href="#real-world-example-portugal"></a>
</h3>
<p>The package includes bundled country boundaries and a global land
mask. Use <code>mask = "land"</code> to clip AoE to coastlines:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a point inside Portugal (approximate center of mainland)</span></span>
<span><span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">8</span>, <span class="fl">39.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">4326</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Without mask</span></span>
<span><span class="va">result_no_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">dummy</span>, <span class="st">"PT"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Using largest polygon (96.8% of total area); 8 smaller polygon(s) dropped. Set largest_polygon = FALSE to include all.</span></span>
<span><span class="va">aoe_no_mask</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_geometry.html">aoe_geometry</a></span><span class="op">(</span><span class="va">result_no_mask</span>, <span class="st">"aoe"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># With mask + area=1 for equal land area</span></span>
<span><span class="va">result_masked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">dummy</span>, <span class="st">"PT"</span>, mask <span class="op">=</span> <span class="st">"land"</span>, area <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Using largest polygon (96.8% of total area); 8 smaller polygon(s) dropped. Set largest_polygon = FALSE to include all.</span></span>
<span><span class="va">aoe_masked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_geometry.html">aoe_geometry</a></span><span class="op">(</span><span class="va">result_masked</span>, <span class="st">"aoe"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get support geometry</span></span>
<span><span class="va">support_geom</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_geometry.html">aoe_geometry</a></span><span class="op">(</span><span class="va">result_masked</span>, <span class="st">"original"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Transform to equal area for plotting</span></span>
<span><span class="va">crs_ea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="st">"+proj=laea +lat_0=39.5 +lon_0=-8 +datum=WGS84"</span><span class="op">)</span></span>
<span><span class="va">aoe_no_mask_ea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">aoe_no_mask</span>, <span class="va">crs_ea</span><span class="op">)</span></span>
<span><span class="va">aoe_masked_ea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">aoe_masked</span>, <span class="va">crs_ea</span><span class="op">)</span></span>
<span><span class="va">support_ea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="va">support_geom</span>, <span class="va">crs_ea</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot - expand xlim for legend, crop bottom margin</span></span>
<span><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="va">aoe_no_mask_ea</span><span class="op">)</span></span>
<span><span class="va">x_range</span> <span class="op">&lt;-</span> <span class="va">bbox</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">-</span> <span class="va">bbox</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">y_range</span> <span class="op">&lt;-</span> <span class="va">bbox</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span> <span class="op">-</span> <span class="va">bbox</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, bty <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoe_no_mask_ea</span><span class="op">)</span>, border <span class="op">=</span> <span class="st">"gray50"</span>, lty <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>     xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>,</span>
<span>     ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">+</span> <span class="va">y_range</span> <span class="op">*</span> <span class="fl">0.25</span>, <span class="va">bbox</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span>,</span>
<span>     axes <span class="op">=</span> <span class="cn">FALSE</span>, xaxt <span class="op">=</span> <span class="st">"n"</span>, yaxt <span class="op">=</span> <span class="st">"n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">aoe_masked_ea</span><span class="op">)</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.3</span><span class="op">)</span>,</span>
<span>     border <span class="op">=</span> <span class="st">"steelblue"</span>, lty <span class="op">=</span> <span class="fl">2</span>, lwd <span class="op">=</span> <span class="fl">1.5</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">support_ea</span><span class="op">)</span>, border <span class="op">=</span> <span class="st">"black"</span>, lwd <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span>       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Portugal"</span>, <span class="st">"AoE (unmasked)"</span>, <span class="st">"AoE (land only)"</span><span class="op">)</span>,</span>
<span>       col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"gray50"</span>, <span class="st">"steelblue"</span><span class="op">)</span>,</span>
<span>       lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>       lwd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span>,</span>
<span>       bty <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>       inset <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<div class="svg-container"><button type="button" class="btn btn-primary btn-copy-svg" title="Copy SVG to clipboard" aria-label="Copy SVG to clipboard" data-bs-toggle="tooltip" data-bs-placement="left"><i class="fa fa-copy"></i></button>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='504.00pt' height='360.00pt' viewBox='0 0 504.00 360.00' class="r-plt inline-svg" style="max-width:100%;width:100%;height:auto;">
<g class='svglite'>
<defs>
  <style type='text/css'><![CDATA[
    /* theme-aware-processed */
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite circle {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite > g > rect {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
      fill: #3E3F3A;
    }
    .svglite g.glyphgroup path {
      fill: inherit;
      stroke: none;
    }
  ]]></style>
</defs>
<rect width='100%' height='100%' style='stroke: none; fill: #F5F6F8;'/>
<defs>
  <clipPath id='cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA='>
    <rect x='0.00' y='0.00' width='504.00' height='360.00' />
  </clipPath>
</defs>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)'>
</g>
<defs>
  <clipPath id='cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA=='>
    <rect x='14.40' y='14.40' width='475.20' height='331.20' />
  </clipPath>
</defs>
<g clip-path='url(#cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA==)'>
<rect class='legend-bg' x='14.40' y='14.40' width='475.20' height='331.20' style='stroke-width: 0.75; stroke: #F5F6F8; fill: #F5F6F8;' />
<path d='M 351.74 123.92 L 352.82 123.82 L 354.98 123.62 L 354.92 120.90 L 357.08 120.70 L 357.01 117.98 L 359.16 117.79 L 359.10 115.07 L 361.25 114.88 L 361.18 112.16 L 363.33 111.96 L 363.26 109.25 L 363.22 107.90 L 364.29 107.80 L 364.26 106.44 L 365.33 106.35 L 365.18 100.93 L 365.11 98.23 L 367.25 98.03 L 367.18 95.33 L 367.10 92.63 L 364.97 92.82 L 364.89 90.12 L 364.82 87.43 L 363.75 87.53 L 363.72 86.18 L 363.68 84.83 L 363.15 84.88 L 363.13 84.21 L 362.59 84.26 L 362.54 82.24 L 362.47 79.55 L 360.87 79.69 L 360.85 79.02 L 360.32 79.07 L 360.20 74.37 L 358.06 74.56 L 357.99 71.88 L 355.86 72.08 L 355.79 69.39 L 353.66 69.59 L 353.59 66.91 L 351.46 67.11 L 349.59 67.28 L 349.58 66.95 L 349.32 66.97 L 349.26 64.63 L 347.12 64.82 L 347.06 62.15 L 344.92 62.34 L 344.86 59.67 L 344.80 57.00 L 342.67 57.20 L 342.61 54.52 L 341.01 54.67 L 340.99 54.01 L 340.46 54.05 L 340.41 52.05 L 339.35 52.15 L 339.32 50.82 L 338.25 50.92 L 338.22 49.58 L 336.62 49.73 L 336.61 49.07 L 336.07 49.12 L 336.03 47.12 L 333.89 47.32 L 333.84 44.65 L 330.63 44.95 L 330.61 43.62 L 329.54 43.72 L 329.51 42.39 L 327.37 42.59 L 326.30 42.69 L 326.28 41.36 L 325.21 41.46 L 325.18 40.13 L 318.76 40.73 L 318.71 38.07 L 316.57 38.28 L 314.42 38.48 L 312.27 38.68 L 310.12 38.88 L 307.97 39.08 L 305.82 39.28 L 305.78 36.63 L 303.63 36.83 L 299.32 37.23 L 295.00 37.64 L 290.68 38.04 L 288.52 38.24 L 288.49 35.59 L 286.33 35.79 L 284.16 36.00 L 284.17 37.32 L 283.09 37.43 L 283.10 38.75 L 282.02 38.85 L 277.68 39.26 L 275.50 39.47 L 275.51 40.79 L 274.42 40.90 L 273.34 41.00 L 273.34 41.99 L 273.07 42.02 L 273.07 42.35 L 271.17 42.53 L 268.99 42.74 L 266.81 42.94 L 264.63 43.15 L 262.44 43.35 L 260.26 43.56 L 260.25 40.90 L 258.61 41.06 L 258.61 40.39 L 258.06 40.44 L 258.05 38.45 L 256.96 38.56 L 256.96 37.23 L 255.86 37.33 L 255.86 36.01 L 254.77 36.11 L 254.77 34.79 L 253.67 34.89 L 253.67 33.57 L 251.48 33.77 L 251.48 31.13 L 248.20 31.44 L 248.20 30.11 L 247.10 30.22 L 247.10 28.90 L 244.92 29.10 L 242.73 29.31 L 242.73 26.67 L 238.35 27.08 L 220.76 28.75 L 216.35 29.17 L 216.33 31.48 L 216.06 31.51 L 216.05 31.84 L 214.12 32.02 L 211.91 32.23 L 209.70 32.44 L 207.48 32.65 L 205.27 32.86 L 205.26 34.18 L 204.15 34.29 L 204.13 35.61 L 203.03 35.72 L 198.58 36.14 L 198.56 38.78 L 196.33 39.00 L 194.11 39.21 L 194.08 41.19 L 193.53 41.25 L 193.52 41.91 L 189.62 42.28 L 189.58 44.93 L 187.35 45.14 L 187.32 47.13 L 186.76 47.18 L 186.76 47.84 L 185.08 48.00 L 185.06 49.33 L 183.94 49.44 L 183.92 50.76 L 182.80 50.87 L 182.79 52.20 L 181.67 52.30 L 181.65 53.63 L 180.52 53.74 L 180.51 55.07 L 179.38 55.17 L 179.36 56.50 L 178.24 56.61 L 178.21 58.60 L 177.65 58.65 L 177.64 59.32 L 175.95 59.48 L 175.91 61.97 L 175.77 61.99 L 175.77 62.15 L 173.66 62.35 L 173.62 65.02 L 173.60 66.35 L 172.47 66.45 L 172.45 67.79 L 171.32 67.89 L 171.28 70.56 L 171.19 75.90 L 171.14 78.57 L 168.88 78.79 L 168.84 81.46 L 168.79 84.14 L 171.05 83.93 L 171.01 86.60 L 170.92 91.97 L 172.05 91.86 L 172.03 93.20 L 173.16 93.10 L 173.14 94.44 L 173.10 97.13 L 173.05 99.81 L 175.18 99.62 L 175.18 99.78 L 175.32 99.77 L 175.20 107.68 L 175.11 113.07 L 177.39 112.86 L 177.35 115.56 L 177.31 118.26 L 177.27 120.97 L 177.22 123.67 L 179.50 123.46 L 179.42 128.88 L 181.42 128.70 L 181.41 129.03 L 181.70 129.01 L 181.67 131.38 L 181.63 134.09 L 181.60 136.13 L 181.03 136.18 L 181.02 136.86 L 179.31 137.02 L 179.27 139.74 L 179.19 145.18 L 179.15 147.73 L 179.01 147.74 L 179.00 147.91 L 176.86 148.11 L 176.82 150.84 L 176.78 153.56 L 174.48 153.77 L 174.44 156.50 L 174.35 161.96 L 174.31 164.70 L 172.01 164.91 L 171.97 167.65 L 171.92 170.38 L 171.88 173.12 L 171.84 175.86 L 169.53 176.07 L 169.48 178.82 L 169.39 184.31 L 169.30 189.81 L 169.23 194.63 L 168.65 194.68 L 168.63 195.37 L 166.89 195.53 L 166.85 198.28 L 166.83 199.66 L 165.66 199.77 L 165.64 201.15 L 164.48 201.25 L 164.41 205.39 L 163.24 205.50 L 163.22 206.88 L 162.05 206.98 L 162.01 209.75 L 161.97 211.82 L 161.39 211.87 L 161.37 212.56 L 159.62 212.72 L 159.54 217.57 L 158.95 217.62 L 158.94 218.31 L 154.85 218.68 L 154.80 221.45 L 152.46 221.66 L 152.40 224.43 L 150.06 224.64 L 150.00 227.42 L 147.65 227.63 L 147.60 230.40 L 145.25 230.61 L 145.13 236.17 L 142.78 236.38 L 142.72 239.16 L 142.66 241.94 L 142.60 244.73 L 142.54 247.51 L 142.48 250.30 L 142.42 253.09 L 140.05 253.30 L 139.93 258.89 L 139.81 264.48 L 139.72 268.68 L 138.53 268.78 L 138.50 270.18 L 137.31 270.29 L 137.25 273.09 L 137.19 275.90 L 137.13 278.70 L 137.06 281.51 L 137.00 284.32 L 136.94 287.13 L 136.87 289.94 L 136.81 292.76 L 136.75 295.57 L 138.84 295.39 L 138.83 295.74 L 139.13 295.72 L 139.07 298.18 L 139.01 301.00 L 141.10 300.82 L 141.09 301.17 L 141.39 301.15 L 141.34 303.62 L 142.53 303.51 L 142.50 304.93 L 143.70 304.82 L 143.67 306.23 L 144.86 306.13 L 144.83 307.54 L 146.02 307.44 L 146.00 308.85 L 147.19 308.75 L 147.16 310.16 L 148.35 310.06 L 148.33 311.47 L 150.71 311.27 L 150.66 314.09 L 150.60 316.93 L 152.99 316.72 L 152.94 319.55 L 152.88 322.39 L 155.27 322.18 L 155.22 325.02 L 157.61 324.81 L 157.56 327.65 L 159.95 327.44 L 159.90 330.28 L 162.29 330.08 L 163.48 329.97 L 163.46 331.39 L 164.65 331.29 L 164.63 332.71 L 167.01 332.51 L 166.97 335.35 L 166.88 341.04 L 166.83 343.89 L 168.93 343.71 L 168.92 344.07 L 169.22 344.04 L 169.18 346.54 L 169.14 349.39 L 169.10 352.25 L 171.49 352.04 L 171.32 363.48 L 171.19 372.07 L 168.79 372.27 L 168.75 375.14 L 168.70 378.01 L 168.67 380.52 L 168.37 380.55 L 168.36 380.91 L 166.25 381.09 L 166.16 386.83 L 163.75 387.04 L 163.70 389.91 L 163.66 392.61 L 163.51 392.62 L 163.51 392.80 L 161.24 392.99 L 161.15 398.75 L 160.96 410.29 L 160.91 413.18 L 163.34 412.98 L 163.29 415.87 L 164.50 415.77 L 164.48 417.21 L 165.69 417.11 L 165.63 421.45 L 168.05 421.25 L 168.01 424.15 L 170.44 423.95 L 170.40 426.84 L 174.04 426.54 L 174.02 427.99 L 175.23 427.89 L 175.21 429.34 L 177.63 429.14 L 178.85 429.04 L 178.83 430.49 L 180.04 430.39 L 180.02 431.84 L 184.87 431.44 L 184.83 434.34 L 187.25 434.14 L 189.67 433.94 L 192.09 433.74 L 194.51 433.54 L 196.93 433.34 L 199.34 433.14 L 201.75 432.93 L 204.16 432.73 L 206.57 432.53 L 206.59 430.36 L 207.19 430.31 L 207.20 429.58 L 218.61 428.63 L 227.00 427.93 L 226.99 429.38 L 228.19 429.28 L 228.18 430.74 L 230.58 430.54 L 232.97 430.34 L 234.16 430.24 L 234.16 431.69 L 235.36 431.59 L 235.35 433.04 L 237.74 432.85 L 240.13 432.65 L 240.13 435.56 L 242.52 435.36 L 244.90 435.16 L 247.29 434.96 L 249.67 434.76 L 252.05 434.56 L 254.43 434.36 L 256.81 434.17 L 259.19 433.97 L 261.56 433.77 L 263.93 433.57 L 266.31 433.37 L 266.30 431.92 L 267.48 431.82 L 267.48 430.36 L 271.03 430.07 L 273.39 429.87 L 273.38 426.96 L 275.74 426.76 L 278.10 426.57 L 278.09 424.39 L 278.68 424.34 L 278.67 423.61 L 285.15 423.07 L 287.50 422.87 L 287.48 419.96 L 289.83 419.77 L 292.18 419.57 L 294.52 419.37 L 294.50 416.47 L 296.84 416.27 L 296.82 414.82 L 297.99 414.72 L 297.98 413.27 L 299.15 413.17 L 301.49 412.97 L 301.46 410.07 L 303.79 409.87 L 303.73 404.80 L 304.32 404.75 L 304.31 404.03 L 306.06 403.88 L 306.02 400.98 L 305.99 398.09 L 308.31 397.89 L 308.24 392.11 L 308.21 389.22 L 307.04 389.32 L 307.03 387.87 L 305.87 387.97 L 305.85 386.53 L 305.81 383.64 L 305.78 380.76 L 305.74 377.87 L 305.71 374.99 L 303.39 375.19 L 303.29 366.56 L 305.61 366.36 L 305.57 363.48 L 307.88 363.29 L 310.19 363.09 L 310.15 360.22 L 312.46 360.02 L 314.76 359.82 L 314.73 357.31 L 315.02 357.28 L 315.01 356.92 L 317.03 356.75 L 319.33 356.55 L 319.28 353.68 L 321.58 353.49 L 321.54 350.62 L 323.83 350.42 L 323.78 347.56 L 323.76 346.12 L 324.91 346.02 L 324.88 344.59 L 326.03 344.49 L 325.98 341.63 L 328.27 341.43 L 328.22 338.57 L 328.17 335.71 L 328.15 334.28 L 329.29 334.19 L 329.27 332.76 L 330.41 332.66 L 330.31 326.95 L 330.11 315.55 L 330.06 312.70 L 327.79 312.90 L 327.74 310.06 L 326.61 310.16 L 326.58 308.73 L 325.45 308.83 L 325.38 304.57 L 323.11 304.77 L 323.06 301.93 L 320.79 302.13 L 319.65 302.23 L 319.63 300.81 L 318.49 300.91 L 318.47 299.49 L 316.20 299.69 L 316.16 296.86 L 318.43 296.66 L 318.39 293.82 L 320.66 293.63 L 320.61 290.79 L 322.88 290.60 L 322.83 287.77 L 322.80 285.65 L 323.36 285.60 L 323.35 284.89 L 325.05 284.74 L 325.00 281.91 L 324.97 279.80 L 325.53 279.75 L 325.52 279.04 L 327.21 278.89 L 327.17 276.07 L 327.12 273.25 L 327.07 270.43 L 327.02 267.61 L 326.99 265.50 L 327.55 265.45 L 327.54 264.75 L 327.25 264.77 L 327.25 264.42 L 326.97 264.45 L 326.93 261.98 L 326.88 259.17 L 326.83 256.36 L 326.78 253.56 L 324.54 253.75 L 324.44 248.14 L 322.20 248.34 L 322.15 245.54 L 319.91 245.74 L 319.86 242.94 L 317.62 243.14 L 317.58 240.34 L 319.82 240.14 L 319.78 237.34 L 322.02 237.14 L 321.97 234.35 L 321.95 232.95 L 323.07 232.85 L 323.04 231.46 L 324.16 231.36 L 324.12 228.91 L 324.40 228.89 L 324.39 228.54 L 326.35 228.37 L 326.30 225.58 L 326.28 224.18 L 327.39 224.08 L 327.37 222.69 L 328.48 222.59 L 328.43 219.80 L 328.40 217.72 L 328.95 217.67 L 328.94 216.97 L 330.61 216.82 L 330.56 214.04 L 330.51 211.26 L 332.73 211.06 L 332.68 208.28 L 332.57 202.73 L 332.47 197.19 L 332.36 191.65 L 334.57 191.45 L 334.52 188.69 L 334.48 186.61 L 335.03 186.56 L 335.02 185.87 L 336.67 185.72 L 336.56 180.20 L 336.34 169.18 L 336.13 158.19 L 335.91 147.23 L 335.85 144.49 L 334.76 144.59 L 334.73 143.23 L 333.64 143.33 L 333.61 141.96 L 333.57 139.57 L 333.84 139.55 L 333.83 139.20 L 335.74 139.03 L 335.69 136.30 L 340.05 135.90 L 340.01 133.86 L 340.55 133.81 L 340.54 133.13 L 342.17 132.98 L 344.34 132.78 L 344.31 131.42 L 345.40 131.32 L 345.37 129.95 L 348.62 129.66 L 348.56 126.93 L 350.72 126.74 L 350.69 125.38 L 351.77 125.28 L 351.74 123.92 Z' style='fill-rule: evenodd; stroke-width: 1.12; stroke: #7F7F7F; stroke-dasharray: 6.00,6.00;' />
<path d='M 331.81 414.75 L 331.78 413.32 L 334.10 413.12 L 334.05 410.22 L 334.00 407.32 L 333.96 405.14 L 334.54 405.10 L 334.53 404.37 L 336.26 404.22 L 336.21 401.32 L 336.10 395.53 L 336.00 389.75 L 335.90 383.97 L 335.79 378.20 L 338.09 378.00 L 338.04 375.30 L 338.18 375.28 L 338.18 375.10 L 340.33 374.92 L 340.30 373.48 L 341.45 373.38 L 341.42 371.94 L 342.57 371.84 L 342.54 370.40 L 343.68 370.30 L 343.65 368.86 L 344.80 368.77 L 344.77 367.33 L 345.91 367.23 L 345.88 365.79 L 347.03 365.69 L 347.00 364.25 L 348.14 364.15 L 348.11 362.72 L 349.25 362.62 L 349.20 360.10 L 349.48 360.08 L 349.47 359.72 L 351.47 359.55 L 351.41 356.67 L 351.38 355.24 L 352.51 355.14 L 352.48 353.70 L 353.62 353.61 L 353.56 350.73 L 355.83 350.54 L 355.76 347.67 L 355.70 344.80 L 357.97 344.61 L 357.90 341.74 L 357.77 336.02 L 360.03 335.82 L 359.97 332.96 L 359.90 330.10 L 359.83 327.25 L 359.77 324.39 L 359.70 321.54 L 359.64 318.69 L 359.57 315.84 L 359.50 312.99 L 359.44 310.14 L 357.19 310.34 L 356.99 301.81 L 354.74 302.01 L 354.68 299.17 L 354.62 296.33 L 352.37 296.53 L 352.25 290.86 L 354.49 290.66 L 354.43 287.83 L 354.36 285.00 L 354.31 282.53 L 354.59 282.50 L 354.58 282.15 L 356.54 281.98 L 356.47 279.15 L 356.21 267.86 L 355.95 256.61 L 355.82 250.99 L 355.75 248.18 L 353.53 248.38 L 353.47 245.57 L 353.40 242.77 L 351.74 242.92 L 351.72 242.22 L 351.17 242.27 L 351.12 240.17 L 353.34 239.97 L 353.28 237.17 L 353.22 234.55 L 353.35 234.54 L 353.35 234.36 L 355.43 234.18 L 355.30 228.59 L 357.51 228.39 L 357.44 225.60 L 357.38 222.81 L 359.58 222.61 L 359.45 217.04 L 359.38 214.25 L 361.58 214.06 L 361.51 211.27 L 361.44 208.49 L 361.37 205.71 L 361.30 202.94 L 361.24 200.16 L 361.18 198.08 L 361.73 198.03 L 361.71 197.34 L 363.36 197.19 L 363.29 194.42 L 363.22 191.65 L 365.41 191.45 L 365.33 188.69 L 365.26 185.92 L 365.19 183.16 L 365.12 180.40 L 365.05 177.64 L 364.98 174.88 L 364.90 172.12 L 364.83 169.37 L 364.76 166.61 L 364.69 163.86 L 364.62 161.11 L 364.55 158.37 L 364.47 155.62 L 364.40 152.88 L 366.57 152.68 L 366.50 149.94 L 368.66 149.75 L 368.62 148.38 L 369.71 148.28 L 369.67 146.91 L 370.75 146.81 L 372.91 146.61 L 372.83 143.88 L 374.99 143.68 L 374.93 141.63 L 375.47 141.58 L 375.45 140.90 L 377.06 140.75 L 377.02 139.38 L 378.10 139.29 L 378.06 137.92 L 379.13 137.82 L 379.09 136.46 L 380.17 136.36 L 380.13 134.99 L 381.20 134.90 L 381.16 133.53 L 382.23 133.43 L 382.19 132.07 L 383.26 131.97 L 385.41 131.78 L 385.32 129.05 L 385.28 127.68 L 386.35 127.59 L 386.31 126.22 L 387.38 126.13 L 387.33 124.77 L 388.40 124.67 L 388.36 123.31 L 389.43 123.21 L 389.34 120.49 L 391.47 120.29 L 391.30 114.85 L 393.43 114.66 L 393.34 111.94 L 393.25 109.23 L 393.20 107.87 L 394.26 107.78 L 394.22 106.42 L 395.28 106.32 L 395.19 103.61 L 395.01 98.20 L 394.64 87.39 L 394.46 82.00 L 392.35 82.20 L 392.26 79.50 L 392.17 76.81 L 392.08 74.12 L 389.97 74.32 L 389.88 71.63 L 389.79 68.95 L 387.69 69.14 L 387.60 66.46 L 387.51 63.78 L 385.40 63.97 L 385.32 61.29 L 383.74 61.44 L 383.72 60.77 L 383.19 60.82 L 383.13 58.81 L 382.07 58.91 L 382.03 57.57 L 380.98 57.67 L 380.93 56.33 L 380.85 53.66 L 378.74 53.85 L 378.66 51.18 L 376.56 51.38 L 376.47 48.71 L 374.37 48.90 L 373.31 49.00 L 373.27 47.67 L 372.22 47.76 L 372.18 46.43 L 370.10 46.62 L 370.10 46.58 L 370.07 46.59 L 369.99 43.96 L 368.94 44.06 L 368.90 42.73 L 367.84 42.83 L 367.81 41.49 L 367.73 38.83 L 365.62 39.03 L 365.55 36.37 L 363.50 36.56 L 363.50 36.48 L 363.44 36.48 L 363.37 33.91 L 361.52 34.08 L 361.51 33.75 L 361.25 33.77 L 361.18 31.45 L 359.34 31.62 L 359.33 31.29 L 359.07 31.32 L 359.00 28.99 L 356.89 29.19 L 356.82 26.54 L 354.71 26.74 L 354.65 24.09 L 352.53 24.28 L 351.48 24.38 L 351.45 23.06 L 350.39 23.16 L 350.36 21.84 L 348.24 22.03 L 348.18 19.39 L 346.07 19.59 L 345.01 19.68 L 344.98 18.36 L 343.92 18.46 L 343.89 17.14 L 341.77 17.34 L 340.72 17.44 L 340.69 16.12 L 339.63 16.22 L 339.60 14.90 L 337.48 15.09 L 335.36 15.29 L 335.31 12.65 L 333.19 12.85 L 328.94 13.25 L 328.89 10.61 L 326.77 10.81 L 324.64 11.01 L 322.52 11.21 L 320.39 11.41 L 318.26 11.61 L 318.21 8.98 L 316.08 9.18 L 307.55 9.98 L 303.27 10.39 L 303.24 7.75 L 301.10 7.95 L 298.96 8.16 L 296.81 8.36 L 294.67 8.56 L 292.52 8.76 L 290.37 8.97 L 288.23 9.17 L 286.08 9.37 L 283.92 9.58 L 283.90 6.95 L 281.75 7.15 L 281.77 9.78 L 279.61 9.99 L 277.46 10.19 L 275.30 10.39 L 273.14 10.60 L 270.98 10.80 L 269.35 10.96 L 269.35 10.30 L 268.81 10.35 L 268.80 8.38 L 266.64 8.58 L 266.62 5.95 L 264.46 6.16 L 262.29 6.36 L 262.28 3.74 L 260.12 3.94 L 257.95 4.15 L 257.94 1.52 L 255.78 1.73 L 253.61 1.94 L 252.52 2.04 L 252.52 0.73 L 251.43 0.83 L 251.43 -0.48 L 247.09 -0.066 L 244.92 0.14 L 244.92 -2.48 L 242.74 -2.27 L 240.57 -2.06 L 238.39 -1.86 L 236.21 -1.65 L 234.03 -1.44 L 231.85 -1.23 L 229.67 -1.02 L 228.58 -0.92 L 228.58 -2.23 L 227.49 -2.12 L 227.50 -3.43 L 225.31 -3.22 L 223.13 -3.01 L 223.11 -0.40 L 220.92 -0.19 L 218.73 0.023 L 216.54 0.23 L 214.35 0.44 L 212.15 0.65 L 209.96 0.86 L 209.95 2.17 L 208.85 2.28 L 208.84 3.59 L 207.74 3.70 L 203.33 4.12 L 198.92 4.54 L 196.72 4.75 L 196.69 7.37 L 194.48 7.59 L 192.27 7.80 L 190.06 8.01 L 190.05 8.12 L 193.01 10.58 L 198.71 11.69 L 198.19 13.84 L 193.21 20.86 L 193.25 25.51 L 195.52 26.09 L 204.39 22.47 L 204.95 25.22 L 204.26 34.02 L 208.35 38.01 L 206.34 41.63 L 204.28 43.22 L 203.95 46.55 L 210.24 47.36 L 200.23 58.72 L 200.57 69.47 L 201.87 70.84 L 205.69 69.91 L 200.50 77.25 L 199.97 81.83 L 202.03 85.88 L 206.65 86.38 L 203.80 89.50 L 204.01 95.74 L 207.28 114.44 L 210.47 123.30 L 211.20 127.93 L 209.75 150.55 L 207.27 157.42 L 205.13 160.47 L 199.72 183.93 L 198.94 189.32 L 200.76 191.22 L 201.44 193.67 L 184.78 232.35 L 179.25 240.18 L 175.63 242.50 L 172.68 246.04 L 173.74 252.17 L 170.35 261.34 L 169.29 271.61 L 166.88 278.86 L 166.56 282.53 L 166.78 287.14 L 172.98 289.47 L 184.75 286.59 L 187.21 280.39 L 194.58 268.17 L 199.21 264.83 L 203.23 264.04 L 195.43 269.40 L 192.06 275.81 L 193.23 282.61 L 190.83 286.38 L 186.97 289.74 L 182.47 290.29 L 178.59 292.34 L 180.99 300.36 L 180.38 306.51 L 181.78 307.20 L 196.33 302.36 L 202.51 302.01 L 209.42 308.43 L 198.08 306.81 L 201.74 316.81 L 202.13 324.67 L 197.88 339.89 L 200.85 345.81 L 202.43 355.25 L 200.91 364.75 L 201.05 375.71 L 190.83 402.62 L 194.21 403.75 L 198.98 399.76 L 204.91 399.88 L 212.62 396.77 L 218.76 398.25 L 237.63 399.87 L 248.34 404.73 L 254.08 404.70 L 272.53 393.62 L 289.80 390.75 L 300.66 391.34 L 303.10 390.19 L 306.61 385.81 L 306.87 387.83 L 305.55 391.57 L 327.08 407.50 L 331.81 414.75 Z' style='fill-rule: evenodd; fill: #4D80B3; fill-opacity: 0.30; stroke-width: 1.12; stroke: #4682B4; stroke-dasharray: 6.00,6.00;' />
<path d='M 200.50 77.25 L 199.97 81.83 L 202.03 85.88 L 206.65 86.38 L 203.80 89.50 L 204.01 95.74 L 207.28 114.44 L 210.47 123.30 L 211.20 127.93 L 211.39 131.78 L 210.38 139.44 L 209.75 150.55 L 207.27 157.42 L 205.13 160.47 L 199.72 183.93 L 198.94 189.32 L 200.76 191.22 L 201.44 193.67 L 192.56 213.60 L 184.78 232.35 L 179.25 240.18 L 175.63 242.50 L 172.68 246.04 L 173.55 249.72 L 173.74 252.17 L 170.35 261.34 L 169.29 271.61 L 166.88 278.86 L 166.56 282.53 L 166.78 287.14 L 170.15 288.77 L 172.98 289.47 L 178.54 288.54 L 184.75 286.59 L 187.21 280.39 L 194.58 268.17 L 199.21 264.83 L 203.23 264.04 L 195.43 269.40 L 192.06 275.81 L 193.23 282.61 L 190.83 286.38 L 186.97 289.74 L 182.47 290.29 L 178.59 292.34 L 180.99 300.36 L 180.38 306.51 L 181.78 307.20 L 186.63 306.11 L 196.33 302.36 L 199.16 302.53 L 202.51 302.01 L 205.95 304.46 L 209.42 308.43 L 198.08 306.81 L 201.74 316.81 L 202.13 324.67 L 197.88 339.89 L 200.85 345.81 L 202.43 355.25 L 200.91 364.75 L 201.05 375.71 L 194.81 393.59 L 190.83 402.62 L 194.21 403.75 L 198.98 399.76 L 204.91 399.88 L 212.62 396.77 L 218.76 398.25 L 237.63 399.87 L 248.34 404.73 L 254.08 404.70 L 272.53 393.62 L 277.27 392.83 L 273.87 376.01 L 272.27 369.54 L 271.85 365.34 L 275.00 355.65 L 278.48 351.69 L 283.08 343.52 L 288.75 336.70 L 294.80 335.03 L 297.45 334.01 L 299.63 328.75 L 300.84 324.26 L 299.91 323.83 L 292.88 324.82 L 280.08 306.19 L 280.45 303.20 L 282.00 298.75 L 283.00 293.15 L 283.22 288.73 L 286.46 284.91 L 291.44 281.04 L 295.60 275.56 L 297.65 270.24 L 298.03 265.41 L 295.62 262.00 L 288.76 260.16 L 281.61 246.46 L 279.99 237.86 L 278.55 236.98 L 274.19 233.08 L 270.00 225.74 L 269.40 224.61 L 273.66 223.29 L 291.29 223.08 L 294.95 221.42 L 295.51 220.85 L 298.65 215.09 L 301.90 205.64 L 302.61 199.89 L 301.53 197.53 L 295.66 191.77 L 295.39 190.06 L 296.29 187.31 L 299.70 184.34 L 304.31 180.95 L 306.80 178.04 L 306.17 175.80 L 304.78 173.47 L 304.54 171.28 L 305.35 168.56 L 305.54 159.34 L 306.10 156.96 L 305.08 148.60 L 303.87 141.78 L 300.12 132.96 L 300.76 130.99 L 302.42 129.31 L 307.87 126.17 L 312.16 118.87 L 318.42 112.72 L 326.66 107.72 L 332.36 102.21 L 334.58 98.04 L 336.18 96.91 L 335.67 94.99 L 334.52 92.21 L 331.16 89.54 L 326.88 88.04 L 322.15 88.19 L 319.22 87.69 L 318.33 85.57 L 318.55 79.76 L 318.21 74.03 L 317.26 71.40 L 315.06 69.45 L 310.74 70.05 L 306.98 68.48 L 304.15 68.13 L 302.53 69.43 L 294.17 69.17 L 290.68 68.28 L 288.24 67.16 L 286.69 67.81 L 285.81 68.94 L 285.68 70.69 L 285.13 73.01 L 282.16 75.13 L 275.32 77.26 L 269.79 77.14 L 264.71 75.68 L 263.08 74.60 L 260.62 73.62 L 250.32 74.86 L 249.07 73.97 L 245.52 76.13 L 240.27 78.68 L 237.32 78.83 L 236.25 78.29 L 235.86 77.13 L 233.67 73.13 L 234.25 71.02 L 238.48 64.85 L 238.01 63.37 L 236.28 61.37 L 234.74 58.49 L 234.30 57.01 L 231.62 56.75 L 228.76 58.25 L 217.85 61.30 L 215.24 62.41 L 210.50 65.38 L 205.69 69.91 L 200.50 77.25 Z' style='fill-rule: evenodd; stroke-width: 1.50;' />
<line x1='338.68' y1='45.36' x2='360.28' y2='45.36' style='stroke-width: 1.50;' />
<line x1='338.68' y1='59.76' x2='360.28' y2='59.76' style='stroke-width: 1.12; stroke: #7F7F7F; stroke-dasharray: 6.00,6.00;' />
<line x1='338.68' y1='74.16' x2='360.28' y2='74.16' style='stroke-width: 1.12; stroke: #4682B4; stroke-dasharray: 6.00,6.00;' />
<text x='371.08' y='49.66' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='44.69px' lengthAdjust='spacingAndGlyphs'>Portugal</text>
<text x='371.08' y='64.06' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='89.36px' lengthAdjust='spacingAndGlyphs'>AoE (unmasked)</text>
<text x='371.08' y='78.46' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='82.03px' lengthAdjust='spacingAndGlyphs'>AoE (land only)</text>
</g>
</g>
</svg></div><p class="caption">
Portugal with land-masked AoE. The halo extends into Spain but not into
the Atlantic.
</p>
</div>
<p>The <code>area = 1</code> parameter ensures the halo has equal land
area to the core, even after the ocean is masked out. Without this,
coastline clipping would reduce the effective halo area.</p>
</div>
</div>
<div class="section level2">
<h2 id="scale-parameter">Scale Parameter<a class="anchor" aria-label="anchor" href="#scale-parameter"></a>
</h2>
<p>The <code>scale</code> parameter controls halo size as a proportion
of core area.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Default: equal core/halo areas (scale = sqrt(2) - 1)</span></span>
<span><span class="va">result_default</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Scale = 1: larger halo (3:1 area ratio)</span></span>
<span><span class="va">result_large</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th>Scale</th>
<th>Halo:Core Area</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<code>sqrt(2) - 1</code> (default)</td>
<td>1:1</td>
</tr>
<tr class="even">
<td><code>1</code></td>
<td>3:1</td>
</tr>
<tr class="odd">
<td><code>0.5</code></td>
<td>1.25:1</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="area-parameter-target-halo-area">Area Parameter (Target Halo Area)<a class="anchor" aria-label="anchor" href="#area-parameter-target-halo-area"></a>
</h2>
<p>Sometimes you need a specific halo area regardless of masking. The
<code>area</code> parameter specifies the target halo area as a
proportion of the original support:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Halo area = original area (same as scale = sqrt(2) - 1 without mask)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span>, area <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Halo area = half of original</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span>, area <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p>Unlike <code>scale</code>, <code>area</code> accounts for masking:
the function finds the scale that produces the target halo area
<em>after</em> mask intersection. This is useful for coastal regions
where scale alone would produce inconsistent effective areas.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Target area = 1 means halo = original, even after coastline clipping</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span>, area <span class="op">=</span> <span class="fl">1</span>, mask <span class="op">=</span> <span class="st">"land"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="adaptive-expansion-with-aoe_expand">Adaptive Expansion with <code>aoe_expand()</code><a class="anchor" aria-label="anchor" href="#adaptive-expansion-with-aoe_expand"></a>
</h2>
<p>When some supports have too few points at baseline AoE,
<code><a href="../reference/aoe_expand.html">aoe_expand()</a></code> finds the minimum scale needed to capture a
target number of points:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create sparse data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">pts_sparse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">20</span>, <span class="fl">80</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">20</span>, <span class="fl">80</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">150</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Expand until at least 10 points are captured</span></span>
<span><span class="va">result_expand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_expand.html">aoe_expand</a></span><span class="op">(</span><span class="va">pts_sparse</span>, <span class="va">support</span>, min_points <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p>Two safety caps prevent unreasonable expansion:</p>
<ul>
<li><p><code>max_area = 2</code> (default): halo area cannot exceed 2×
the original</p></li>
<li><p><code>max_dist</code>: maximum expansion distance in CRS
units</p></li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Strict caps</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_expand.html">aoe_expand</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">support</span>,</span>
<span>                     min_points <span class="op">=</span> <span class="fl">50</span>,</span>
<span>                     max_area <span class="op">=</span> <span class="fl">1.5</span>,    <span class="co"># halo ≤ 1.5× original</span></span>
<span>                     max_dist <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>    <span class="co"># max 500m expansion</span></span></code></pre></div>
<p>Check expansion details:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">result_expand</span>, <span class="st">"expansion_info"</span><span class="op">)</span></span>
<span><span class="va">info</span></span>
<span><span class="co">#&gt;   support_id scale_used points_captured target_reached cap_hit</span></span>
<span><span class="co">#&gt; 1          1  0.6412593              10           TRUE    none</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="balanced-sampling-with-aoe_sample">Balanced Sampling with <code>aoe_sample()</code><a class="anchor" aria-label="anchor" href="#balanced-sampling-with-aoe_sample"></a>
</h2>
<p>Core regions often dominate due to point density.
<code><a href="../reference/aoe_sample.html">aoe_sample()</a></code> provides stratified sampling to balance
core/halo representation:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create imbalanced data (many core, few halo)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">pts_imbal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">60</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">110</span>, <span class="fl">140</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_imbal</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts_imbal</span>, <span class="va">support</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default: balance core/halo (downsamples core to match halo)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">balanced</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_sample.html">aoe_sample</a></span><span class="op">(</span><span class="va">result_imbal</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">balanced</span><span class="op">$</span><span class="va">aoe_class</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; core halo </span></span>
<span><span class="co">#&gt;   10   10</span></span></code></pre></div>
<p>Custom ratios and fixed sample sizes:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fixed n with 70/30 split</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">sampled</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_sample.html">aoe_sample</a></span><span class="op">(</span><span class="va">result_imbal</span>, n <span class="op">=</span> <span class="fl">20</span>, ratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>core <span class="op">=</span> <span class="fl">0.7</span>, halo <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sampled</span><span class="op">$</span><span class="va">aoe_class</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; core halo </span></span>
<span><span class="co">#&gt;   14    6</span></span></code></pre></div>
<p>For multiple supports, use <code>by = "support"</code> to sample
within each:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sampled</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_sample.html">aoe_sample</a></span><span class="op">(</span><span class="va">result_multi</span>, by <span class="op">=</span> <span class="st">"support"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="border-classification-with-aoe_border">Border Classification with <code>aoe_border()</code><a class="anchor" aria-label="anchor" href="#border-classification-with-aoe_border"></a>
</h2>
<p>When your study involves a boundary <em>line</em> rather than a
polygon (e.g., a river, mountain range, or political border), use
<code><a href="../reference/aoe_border.html">aoe_border()</a></code> to classify points by their distance from and
side of the border.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a diagonal border line</span></span>
<span><span class="va">border_line</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_linestring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>      <span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create points on both sides</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">pts_border</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">)</span>,</span>
<span>  geometry <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="co"># Points on side 1 (above the line)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span> <span class="op">+</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="co"># Points on side 2 (below the line)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">90</span><span class="op">)</span> <span class="op">-</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">32631</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Classify by distance from border</span></span>
<span><span class="va">result_border</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_border.html">aoe_border</a></span><span class="op">(</span></span>
<span>  <span class="va">pts_border</span>, <span class="va">border_line</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  side_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"north"</span>, <span class="st">"south"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Built-in plot method</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">result_border</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<div class="svg-container"><button type="button" class="btn btn-primary btn-copy-svg" title="Copy SVG to clipboard" aria-label="Copy SVG to clipboard" data-bs-toggle="tooltip" data-bs-placement="left"><i class="fa fa-copy"></i></button>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='504.00pt' height='360.00pt' viewBox='0 0 504.00 360.00' class="r-plt inline-svg" style="max-width:100%;width:100%;height:auto;">
<g class='svglite'>
<defs>
  <style type='text/css'><![CDATA[
    /* theme-aware-processed */
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite circle {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite > g > rect {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
      fill: #3E3F3A;
    }
    .svglite g.glyphgroup path {
      fill: inherit;
      stroke: none;
    }
  ]]></style>
</defs>
<rect width='100%' height='100%' style='stroke: none; fill: #F5F6F8;'/>
<defs>
  <clipPath id='cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA='>
    <rect x='0.00' y='0.00' width='504.00' height='360.00' />
  </clipPath>
</defs>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)'>
</g>
<defs>
  <clipPath id='cpNTkuMDR8NDczLjc2fDU5LjA0fDI4Ni41Ng=='>
    <rect x='59.04' y='59.04' width='414.72' height='227.52' />
  </clipPath>
</defs>
<g clip-path='url(#cpNTkuMDR8NDczLjc2fDU5LjA0fDI4Ni41Ng==)'>
<rect class='legend-bg' x='59.04' y='59.04' width='414.72' height='227.52' style='stroke-width: 0.75; stroke: #F5F6F8; fill: #F5F6F8;' />
<path d='M 288.28 81.38 L 290.88 79.39 L 293.57 77.54 L 296.36 75.83 L 299.23 74.27 L 302.18 72.87 L 305.20 71.61 L 308.28 70.52 L 311.42 69.59 L 314.60 68.83 L 317.81 68.24 L 321.05 67.81 L 324.31 67.55 L 327.58 67.47 L 330.85 67.55 L 334.11 67.81 L 337.35 68.24 L 340.56 68.83 L 343.74 69.59 L 346.88 70.52 L 349.96 71.61 L 352.98 72.87 L 355.93 74.27 L 358.80 75.83 L 361.59 77.54 L 364.28 79.39 L 366.88 81.38 L 369.36 83.51 L 371.73 85.76 L 349.66 107.83 L 348.47 106.71 L 347.23 105.65 L 345.93 104.65 L 344.58 103.72 L 343.19 102.87 L 341.75 102.09 L 340.28 101.39 L 338.77 100.76 L 337.23 100.22 L 335.66 99.75 L 334.07 99.37 L 332.46 99.07 L 330.84 98.86 L 329.21 98.73 L 327.58 98.69 L 325.95 98.73 L 324.32 98.86 L 322.70 99.07 L 321.09 99.37 L 319.50 99.75 L 317.93 100.22 L 316.39 100.76 L 314.88 101.39 L 313.41 102.09 L 311.97 102.87 L 310.58 103.72 L 309.23 104.65 L 307.93 105.65 L 306.69 106.71 L 305.50 107.83 L 201.43 211.90 L 200.31 213.09 L 199.25 214.33 L 198.25 215.63 L 197.32 216.98 L 196.47 218.37 L 195.69 219.81 L 194.99 221.28 L 194.36 222.79 L 193.82 224.33 L 193.35 225.90 L 192.97 227.49 L 192.67 229.10 L 192.46 230.72 L 192.33 232.35 L 192.29 233.98 L 192.33 235.61 L 192.46 237.24 L 192.67 238.86 L 192.97 240.47 L 193.35 242.06 L 193.82 243.63 L 194.36 245.17 L 194.99 246.68 L 195.69 248.15 L 196.47 249.59 L 197.32 250.98 L 198.25 252.33 L 199.25 253.63 L 200.31 254.87 L 201.43 256.06 L 179.36 278.13 L 177.11 275.76 L 174.98 273.28 L 172.99 270.68 L 171.14 267.99 L 169.43 265.20 L 167.87 262.33 L 166.47 259.38 L 165.21 256.36 L 164.12 253.28 L 163.19 250.14 L 162.43 246.96 L 161.84 243.75 L 161.41 240.51 L 161.15 237.25 L 161.07 233.98 L 161.15 230.71 L 161.41 227.45 L 161.84 224.21 L 162.43 221.00 L 163.19 217.82 L 164.12 214.68 L 165.21 211.60 L 166.47 208.58 L 167.87 205.63 L 169.43 202.76 L 171.14 199.97 L 172.99 197.28 L 174.98 194.68 L 177.11 192.20 L 179.36 189.83 L 283.43 85.76 L 285.80 83.51 L 288.28 81.38 Z' style='fill-rule: evenodd; fill: #3366CC; fill-opacity: 0.15; stroke-width: 0.75; stroke: none;' />
<path d='M 376.11 90.61 L 378.10 93.21 L 379.95 95.90 L 381.66 98.69 L 383.22 101.56 L 384.62 104.51 L 385.87 107.53 L 386.97 110.61 L 387.89 113.75 L 388.66 116.93 L 389.25 120.14 L 389.68 123.38 L 389.94 126.64 L 390.02 129.91 L 389.94 133.18 L 389.68 136.44 L 389.25 139.68 L 388.66 142.89 L 387.89 146.07 L 386.97 149.20 L 385.87 152.29 L 384.62 155.31 L 383.22 158.26 L 381.66 161.13 L 379.95 163.92 L 378.10 166.61 L 376.11 169.21 L 373.98 171.69 L 371.73 174.06 L 267.66 278.13 L 265.29 280.38 L 262.81 282.51 L 260.21 284.50 L 257.52 286.35 L 254.73 288.06 L 251.86 289.62 L 248.91 291.02 L 245.89 292.27 L 242.80 293.37 L 239.67 294.29 L 236.49 295.06 L 233.28 295.65 L 230.04 296.08 L 226.78 296.34 L 223.51 296.42 L 220.24 296.34 L 216.98 296.08 L 213.74 295.65 L 210.53 295.06 L 207.35 294.29 L 204.21 293.37 L 201.13 292.27 L 198.11 291.02 L 195.16 289.62 L 192.29 288.06 L 189.50 286.35 L 186.81 284.50 L 184.21 282.51 L 181.73 280.38 L 179.36 278.13 L 179.36 278.13 L 201.43 256.06 L 201.43 256.06 L 202.62 257.18 L 203.86 258.24 L 205.16 259.24 L 206.50 260.16 L 207.90 261.02 L 209.33 261.80 L 210.81 262.50 L 212.32 263.13 L 213.86 263.67 L 215.43 264.14 L 217.02 264.52 L 218.63 264.82 L 220.25 265.03 L 221.88 265.16 L 223.51 265.20 L 225.14 265.16 L 226.77 265.03 L 228.39 264.82 L 230.00 264.52 L 231.59 264.14 L 233.16 263.67 L 234.70 263.13 L 236.21 262.50 L 237.68 261.80 L 239.12 261.02 L 240.51 260.16 L 241.86 259.24 L 243.16 258.24 L 244.40 257.18 L 245.59 256.06 L 349.66 151.99 L 350.78 150.80 L 351.84 149.56 L 352.84 148.26 L 353.76 146.91 L 354.62 145.52 L 355.40 144.08 L 356.10 142.61 L 356.73 141.10 L 357.27 139.56 L 357.74 137.99 L 358.12 136.40 L 358.42 134.79 L 358.63 133.17 L 358.76 131.54 L 358.80 129.91 L 358.76 128.28 L 358.63 126.65 L 358.42 125.03 L 358.12 123.42 L 357.74 121.83 L 357.27 120.26 L 356.73 118.72 L 356.10 117.21 L 355.40 115.73 L 354.62 114.30 L 353.76 112.90 L 352.84 111.56 L 351.84 110.26 L 350.78 109.02 L 349.66 107.83 L 371.73 85.76 L 373.98 88.13 L 376.11 90.61 Z' style='fill-rule: evenodd; fill: #CC6633; fill-opacity: 0.15; stroke-width: 0.75; stroke: none;' />
<path d='M 306.69 106.71 L 307.93 105.65 L 309.23 104.65 L 310.58 103.72 L 311.97 102.87 L 313.41 102.09 L 314.88 101.39 L 316.39 100.76 L 317.93 100.22 L 319.50 99.75 L 321.09 99.37 L 322.70 99.07 L 324.32 98.86 L 325.95 98.73 L 327.58 98.69 L 329.21 98.73 L 330.84 98.86 L 332.46 99.07 L 334.07 99.37 L 335.66 99.75 L 337.23 100.22 L 338.77 100.76 L 340.28 101.39 L 341.75 102.09 L 343.19 102.87 L 344.58 103.72 L 345.93 104.65 L 347.23 105.65 L 348.47 106.71 L 349.66 107.83 L 201.43 256.06 L 200.31 254.87 L 199.25 253.63 L 198.25 252.33 L 197.32 250.98 L 196.47 249.59 L 195.69 248.15 L 194.99 246.68 L 194.36 245.17 L 193.82 243.63 L 193.35 242.06 L 192.97 240.47 L 192.67 238.86 L 192.46 237.24 L 192.33 235.61 L 192.29 233.98 L 192.33 232.35 L 192.46 230.72 L 192.67 229.10 L 192.97 227.49 L 193.35 225.90 L 193.82 224.33 L 194.36 222.79 L 194.99 221.28 L 195.69 219.81 L 196.47 218.37 L 197.32 216.98 L 198.25 215.63 L 199.25 214.33 L 200.31 213.09 L 201.43 211.90 L 305.50 107.83 L 306.69 106.71 Z' style='fill-rule: evenodd; fill: #3366CC; fill-opacity: 0.30; stroke-width: 0.75; stroke: none;' />
<path d='M 350.78 109.02 L 351.84 110.26 L 352.84 111.56 L 353.76 112.90 L 354.62 114.30 L 355.40 115.73 L 356.10 117.21 L 356.73 118.72 L 357.27 120.26 L 357.74 121.83 L 358.12 123.42 L 358.42 125.03 L 358.63 126.65 L 358.76 128.28 L 358.80 129.91 L 358.76 131.54 L 358.63 133.17 L 358.42 134.79 L 358.12 136.40 L 357.74 137.99 L 357.27 139.56 L 356.73 141.10 L 356.10 142.61 L 355.40 144.08 L 354.62 145.52 L 353.76 146.91 L 352.84 148.26 L 351.84 149.56 L 350.78 150.80 L 349.66 151.99 L 245.59 256.06 L 244.40 257.18 L 243.16 258.24 L 241.86 259.24 L 240.51 260.16 L 239.12 261.02 L 237.68 261.80 L 236.21 262.50 L 234.70 263.13 L 233.16 263.67 L 231.59 264.14 L 230.00 264.52 L 228.39 264.82 L 226.77 265.03 L 225.14 265.16 L 223.51 265.20 L 221.88 265.16 L 220.25 265.03 L 218.63 264.82 L 217.02 264.52 L 215.43 264.14 L 213.86 263.67 L 212.32 263.13 L 210.81 262.50 L 209.33 261.80 L 207.90 261.02 L 206.50 260.16 L 205.16 259.24 L 203.86 258.24 L 202.62 257.18 L 201.43 256.06 L 201.43 256.06 L 349.66 107.83 L 350.78 109.02 Z' style='fill-rule: evenodd; fill: #CC6633; fill-opacity: 0.30; stroke-width: 0.75; stroke: none;' />
<polyline points='223.51,233.98 327.58,129.91 ' style='stroke-width: 1.50;' />
<circle cx='310.08' cy='124.74' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='257.74' cy='133.62' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='287.35' cy='159.54' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='295.24' cy='191.55' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='288.62' cy='144.06' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='272.03' cy='142.89' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='311.73' cy='181.49' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='272.41' cy='124.50' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='315.36' cy='192.98' r='3.24' style='stroke-width: 0.75; stroke: #FF8C00;' />
<circle cx='273.46' cy='156.11' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='309.18' cy='191.21' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='316.25' cy='123.94' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='240.78' cy='159.95' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='266.40' cy='127.35' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='271.13' cy='133.16' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='295.33' cy='176.86' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='266.23' cy='187.34' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='234.24' cy='175.04' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='234.53' cy='227.10' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='309.40' cy='193.45' r='3.24' style='stroke-width: 0.75; stroke: #FF8C00;' />
<circle cx='265.52' cy='208.11' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='237.03' cy='163.33' r='3.24' style='stroke-width: 0.75; stroke: #4682B4;' />
<circle cx='269.86' cy='164.66' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='307.83' cy='191.10' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='314.76' cy='192.86' r='3.24' style='stroke-width: 0.75; stroke: #FF8C00;' />
<circle cx='261.68' cy='215.52' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #FF8C00;' />
<circle cx='267.09' cy='179.06' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='237.16' cy='182.04' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<circle cx='290.30' cy='230.13' r='3.24' style='stroke-width: 0.75; stroke: #FF8C00;' />
<circle cx='255.65' cy='201.56' r='3.24' style='stroke-width: 0.75; stroke: none; fill: #4682B4;' />
<rect x='363.30' y='69.84' width='8.64' height='7.20' style='stroke-width: 0.75; stroke: none; fill: #3366CC; fill-opacity: 0.30;' />
<rect x='363.30' y='84.24' width='8.64' height='7.20' style='stroke-width: 0.75; stroke: none; fill: #3366CC; fill-opacity: 0.15;' />
<rect x='363.30' y='98.64' width='8.64' height='7.20' style='stroke-width: 0.75; stroke: none; fill: #CC6633; fill-opacity: 0.30;' />
<rect x='363.30' y='113.04' width='8.64' height='7.20' style='stroke-width: 0.75; stroke: none; fill: #CC6633; fill-opacity: 0.15;' />
<rect x='363.30' y='127.44' width='8.64' height='7.20' style='stroke-width: 0.75; stroke: none;' /> fill: #F5F6F8;' />
<line x1='371.94' y1='131.04' x2='393.54' y2='131.04' style='stroke-width: 1.50;' />
<text x='404.34' y='77.74' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='62.02px' lengthAdjust='spacingAndGlyphs'>north (core)</text>
<text x='404.34' y='92.14' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='61.36px' lengthAdjust='spacingAndGlyphs'>north (halo)</text>
<text x='404.34' y='106.54' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='64.02px' lengthAdjust='spacingAndGlyphs'>south (core)</text>
<text x='404.34' y='120.94' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='63.36px' lengthAdjust='spacingAndGlyphs'>south (halo)</text>
<text x='404.34' y='135.34' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='36.02px' lengthAdjust='spacingAndGlyphs'>Border</text>
</g>
</g>
</svg></div><p class="caption">
Border classification. Points are classified by side (blue vs orange)
and distance (core vs halo) from the border line.
</p>
</div>
<p>The <code><a href="../reference/aoe_border.html">aoe_border()</a></code> function:</p>
<ul>
<li><p>Creates symmetric buffer zones on both sides of the
border</p></li>
<li><p>Classifies points as “core” (near border) or “halo” (farther
away)</p></li>
<li><p>Assigns each point to a side based on position relative to the
line</p></li>
</ul>
<div class="section level3">
<h3 id="area-based-border-zones">Area-Based Border Zones<a class="anchor" aria-label="anchor" href="#area-based-border-zones"></a>
</h3>
<p>Use the <code>area</code> parameter to specify target zone areas
instead of fixed widths:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Each side's core zone has area 5000 (in CRS units²)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_border.html">aoe_border</a></span><span class="op">(</span><span class="va">pts</span>, <span class="va">border</span>, area <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="sampling-from-border-results">Sampling from Border Results<a class="anchor" aria-label="anchor" href="#sampling-from-border-results"></a>
</h3>
<p><code><a href="../reference/aoe_sample.html">aoe_sample()</a></code> also works with border results, allowing
stratification by side or class:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Balance by side (equal north/south)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">balanced_side</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_sample.html">aoe_sample</a></span><span class="op">(</span><span class="va">result_border</span>, ratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>north <span class="op">=</span> <span class="fl">0.5</span>, south <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">balanced_side</span><span class="op">$</span><span class="va">side</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; north south </span></span>
<span><span class="co">#&gt;    12    12</span></span>
<span></span>
<span><span class="co"># Balance by distance class</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">balanced_class</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/aoe_sample.html">aoe_sample</a></span><span class="op">(</span><span class="va">result_border</span>, by <span class="op">=</span> <span class="st">"class"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">balanced_class</span><span class="op">$</span><span class="va">aoe_class</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; core halo </span></span>
<span><span class="co">#&gt;   11   11</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="diagnostics">Diagnostics<a class="anchor" aria-label="anchor" href="#diagnostics"></a>
</h2>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/aoe_summary.html">aoe_summary</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt;   support_id n_total n_core n_halo prop_core prop_halo</span></span>
<span><span class="co">#&gt; 1          1       4      3      1      0.75      0.25</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<ul>
<li><p><code><a href="../reference/aoe.html">aoe()</a></code> classifies points as “core” or “halo”</p></li>
<li><p>Works with dataframes or sf objects</p></li>
<li><p>Pass country codes directly: <code>aoe(df, "AT")</code></p></li>
<li><p>Area-based halos enable consistent cross-country
comparisons</p></li>
<li><p>Use <code>mask</code> for coastlines and hard boundaries</p></li>
<li><p>Use <code>area</code> parameter for target halo area (accounts
for masking)</p></li>
<li><p>Use <code><a href="../reference/aoe_expand.html">aoe_expand()</a></code> for adaptive expansion to capture
minimum points</p></li>
<li><p>Use <code><a href="../reference/aoe_sample.html">aoe_sample()</a></code> for balanced core/halo
sampling</p></li>
<li><p>Use <code><a href="../reference/aoe_border.html">aoe_border()</a></code> for border/line-based
classification</p></li>
<li><p>Use <code><a href="../reference/aoe_summary.html">aoe_summary()</a></code> for diagnostics</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gilles Colling.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  
<script>
/* SVG Copy Button Functionality */
(function() {
  "use strict";

  // Initialize SVG copy buttons after DOM is ready
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof ClipboardJS === "undefined") {
      console.warn("ClipboardJS not loaded - SVG copy buttons disabled");
      return;
    }

    // Initialize clipboard for SVG copy buttons
    var svgClipboard = new ClipboardJS(".btn-copy-svg", {
      text: function(trigger) {
        var container = trigger.closest(".svg-container");
        if (!container) return "";

        var svg = container.querySelector("svg");
        if (!svg) return "";

        // Clone SVG to avoid modifying the original
        var clone = svg.cloneNode(true);

        // Remove inline-svg class (not needed in copied version)
        clone.classList.remove("inline-svg");

        // Add XML declaration and serialize
        var serializer = new XMLSerializer();
        var svgString = serializer.serializeToString(clone);

        // Add XML declaration if not present
        if (!svgString.startsWith("<?xml")) {
          svgString = '<?xml version="1.0" encoding="UTF-8"?>\n' + svgString;
        }

        return svgString;
      }
    });

    // Handle success
    svgClipboard.on("success", function(e) {
      var btn = e.trigger;
      var originalTitle = btn.getAttribute("data-bs-original-title") || btn.getAttribute("title");

      // Update tooltip to show "Copied!"
      btn.setAttribute("data-bs-original-title", "Copied!");
      var tooltip = bootstrap.Tooltip.getInstance(btn);
      if (tooltip) {
        tooltip.show();
      }

      // Reset after delay
      setTimeout(function() {
        btn.setAttribute("data-bs-original-title", originalTitle);
      }, 1500);

      e.clearSelection();
    });

    // Handle error
    svgClipboard.on("error", function(e) {
      var btn = e.trigger;
      btn.setAttribute("data-bs-original-title", "Press Ctrl+C to copy");
      var tooltip = bootstrap.Tooltip.getInstance(btn);
      if (tooltip) {
        tooltip.show();
      }
    });

    // Initialize tooltips for SVG copy buttons
    var svgCopyButtons = document.querySelectorAll(".btn-copy-svg");
    svgCopyButtons.forEach(function(btn) {
      new bootstrap.Tooltip(btn, { container: "body" });
    });
  });
})();
</script>
</body>
</html>
