<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Spatial Support at Scale • areaOfEffect</title>
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Spatial Support at Scale">
<meta name="description" content='Formalizes spatial support at scale for ecological and geographical analysis. Given points and support polygons, classifies points as "core" (inside original support) or "halo" (inside scaled support but outside original), pruning all others. The default scale produces equal core and halo areas - a geometrically derived choice requiring no tuning. An optional mask enforces hard boundaries such as coastlines. Political borders are treated as soft boundaries with no ecological meaning.'>
<meta property="og:description" content='Formalizes spatial support at scale for ecological and geographical analysis. Given points and support polygons, classifies points as "core" (inside original support) or "halo" (inside scaled support but outside original), pruning all others. The default scale produces equal core and halo areas - a geometrically derived choice requiring no tuning. An optional mask enforces hard boundaries such as coastlines. Political borders are treated as soft boundaries with no ecological meaning.'>
</head>
<body>
<p>








  pkgdown/mathjax-config.html

  

  </p>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">areaOfEffect</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/quickstart.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/quickstart.html">Quick Start</a></li>
    <li><a class="dropdown-item" href="articles/theory.html">Theory</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gcol33/areaOfEffect" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="areaofeffect">areaOfEffect<a class="anchor" aria-label="anchor" href="#areaofeffect"></a>
</h1></div>
<p><a href="https://github.com/gcol33/areaOfEffect/actions/workflows/R-CMD-check.yml" class="external-link"><img src="https://github.com/gcol33/areaOfEffect/actions/workflows/R-CMD-check.yml/badge.svg" alt="R-CMD-check"></a> <a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p><strong>Classify occurrence records relative to country borders — without writing sf code.</strong></p>
<p>Dataframe in → dataframe out. No CRS headaches. No buffer distance guessing.</p>
<p align="center">
<div class="svg-container"><button type="button" class="btn btn-primary btn-copy-svg" title="Copy SVG to clipboard" aria-label="Copy SVG to clipboard" data-bs-toggle="tooltip" data-bs-placement="left"><i class="fa fa-copy"></i></button>
<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='504.00pt' height='360.00pt' viewBox='0 0 504.00 360.00' class="inline-svg" style="max-width:100%;width:100%;height:auto;">
<g class='svglite'>
<defs>
  <style type='text/css'><![CDATA[
    /* theme-aware-processed */
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite circle {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite > g > rect {
      fill: none;
      stroke: #3E3F3A;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
    .svglite text {
      white-space: pre;
      fill: #3E3F3A;
    }
    .svglite g.glyphgroup path {
      fill: inherit;
      stroke: none;
    }
  ]]></style>
</defs>
<rect width='100%' height='100%' style='stroke: none; fill: #F5F6F8;'/>
<defs>
  <clipPath id='cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA='>
    <rect x='0.00' y='0.00' width='504.00' height='360.00' />
  </clipPath>
</defs>
<g clip-path='url(#cpMC4wMHw1MDQuMDB8MC4wMHwzNjAuMDA=)'>
</g>
<defs>
  <clipPath id='cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA=='>
    <rect x='14.40' y='14.40' width='475.20' height='331.20' />
  </clipPath>
</defs>
<g clip-path='url(#cpMTQuNDB8NDg5LjYwfDE0LjQwfDM0NS42MA==)'>
<rect class='legend-bg' x='14.40' y='14.40' width='475.20' height='331.20' style='stroke-width: 0.75; stroke: #F5F6F8; fill: #F5F6F8;' />
<path d='M 34.21 203.08 L 33.71 201.76 L 33.23 200.26 L 32.82 198.73 L 32.50 197.18 L 32.25 195.62 L 32.09 194.05 L 32.00 192.47 L 32.00 190.89 L 32.08 189.31 L 32.24 187.73 L 32.48 186.17 L 32.81 184.62 L 33.21 183.09 L 33.69 181.59 L 34.25 180.11 L 34.89 178.66 L 35.59 177.24 L 36.37 175.87 L 37.23 174.54 L 38.14 173.25 L 39.13 172.01 L 40.18 170.82 L 41.28 169.69 L 42.45 168.62 L 43.66 167.61 L 44.93 166.67 L 46.25 165.79 L 47.61 164.98 L 48.80 164.31 L 50.20 163.57 L 51.63 162.91 L 53.09 162.32 L 54.58 161.81 L 56.10 161.37 L 57.63 161.02 L 59.18 160.74 L 60.30 160.60 L 61.46 160.07 L 62.95 159.47 L 64.47 158.95 L 66.02 158.51 L 67.58 158.15 L 69.16 157.88 L 70.76 157.69 L 72.36 157.58 L 73.97 157.56 L 75.57 157.62 L 77.17 157.77 L 78.76 158.00 L 80.33 158.31 L 81.89 158.71 L 83.42 159.18 L 88.10 160.77 L 89.62 161.34 L 91.10 161.97 L 93.55 163.11 L 93.93 162.89 L 95.36 162.16 L 96.82 161.51 L 98.32 160.94 L 99.84 160.45 L 101.39 160.03 L 102.96 159.70 L 104.54 159.46 L 106.13 159.29 L 107.73 159.21 L 109.33 159.21 L 110.93 159.30 L 112.52 159.47 L 114.00 159.70 L 118.27 159.52 L 119.98 159.50 L 121.70 159.57 L 123.40 159.74 L 125.10 160.00 L 126.77 160.36 L 128.43 160.81 L 129.87 161.29 L 131.75 161.37 L 133.36 161.48 L 134.96 161.67 L 136.54 161.94 L 138.11 162.30 L 139.66 162.74 L 141.18 163.26 L 142.68 163.86 L 144.14 164.54 L 145.56 165.30 L 146.08 165.61 L 146.93 165.29 L 147.61 165.05 L 149.77 163.74 L 151.26 162.90 L 152.80 162.14 L 154.37 161.46 L 155.98 160.88 L 162.93 158.57 L 164.51 158.10 L 166.11 157.70 L 167.72 157.40 L 169.35 157.18 L 174.90 156.60 L 175.75 155.78 L 176.99 154.71 L 178.28 153.71 L 179.63 152.78 L 181.02 151.92 L 182.46 151.14 L 183.94 150.43 L 185.45 149.81 L 186.99 149.27 L 188.56 148.81 L 190.16 148.43 L 190.65 148.34 L 190.77 147.36 L 191.04 145.82 L 191.38 144.31 L 191.80 142.81 L 192.30 141.33 L 192.87 139.89 L 193.52 138.47 L 194.23 137.09 L 195.02 135.75 L 197.29 132.08 L 198.16 130.75 L 199.10 129.47 L 200.10 128.24 L 201.17 127.06 L 202.29 125.94 L 203.47 124.88 L 204.71 123.88 L 208.53 120.96 L 209.69 120.12 L 210.89 119.33 L 212.12 118.60 L 220.77 113.73 L 222.25 112.95 L 222.68 112.76 L 223.00 111.64 L 223.50 110.14 L 224.09 108.68 L 224.74 107.24 L 225.47 105.84 L 226.28 104.48 L 227.15 103.17 L 228.09 101.90 L 229.09 100.68 L 230.15 99.51 L 231.27 98.41 L 231.43 98.25 L 232.55 97.14 L 233.74 96.10 L 234.97 95.12 L 236.25 94.20 L 237.58 93.36 L 238.95 92.58 L 240.35 91.87 L 241.80 91.23 L 241.93 91.18 L 242.38 90.44 L 243.28 89.11 L 244.26 87.83 L 245.30 86.60 L 246.40 85.43 L 247.56 84.32 L 248.78 83.27 L 250.05 82.29 L 251.38 81.37 L 252.75 80.53 L 254.16 79.76 L 255.61 79.06 L 257.09 78.44 L 258.61 77.90 L 260.15 77.44 L 261.71 77.06 L 263.30 76.77 L 264.89 76.56 L 266.49 76.43 L 268.10 76.39 L 269.71 76.43 L 271.31 76.56 L 272.91 76.77 L 274.49 77.06 L 276.05 77.44 L 277.60 77.90 L 279.07 78.38 L 280.50 78.89 L 281.91 79.47 L 283.29 80.12 L 287.60 82.28 L 288.83 82.94 L 290.04 83.65 L 291.21 84.42 L 293.55 86.03 L 293.77 85.05 L 294.18 83.51 L 294.67 82.00 L 295.25 80.52 L 295.89 79.07 L 296.62 77.66 L 297.41 76.28 L 298.27 74.95 L 299.21 73.66 L 300.10 72.50 L 301.09 71.27 L 302.14 70.10 L 303.25 68.99 L 304.41 67.93 L 305.63 66.93 L 306.90 66.00 L 308.21 65.14 L 309.57 64.34 L 310.96 63.61 L 312.39 62.96 L 313.85 62.38 L 315.34 61.88 L 316.86 61.45 L 318.39 61.11 L 319.94 60.84 L 321.50 60.65 L 323.07 60.55 L 324.65 60.52 L 326.22 60.57 L 329.88 60.79 L 331.40 60.93 L 332.93 61.13 L 334.43 61.42 L 335.93 61.78 L 337.40 62.21 L 338.06 62.44 L 339.40 62.37 L 341.03 62.36 L 342.65 62.44 L 344.26 62.61 L 345.86 62.86 L 347.45 63.19 L 352.16 64.32 L 353.62 64.71 L 355.06 65.17 L 356.47 65.70 L 357.86 66.30 L 365.30 69.74 L 367.53 69.78 L 369.09 69.86 L 370.64 70.01 L 372.19 70.25 L 373.72 70.56 L 375.24 70.95 L 376.73 71.42 L 378.19 71.96 L 379.63 72.58 L 381.03 73.27 L 382.40 74.03 L 387.22 76.87 L 388.39 76.37 L 389.87 75.81 L 391.37 75.34 L 392.89 74.94 L 394.43 74.62 L 395.98 74.39 L 397.55 74.23 L 399.12 74.15 L 400.69 74.15 L 402.26 74.24 L 405.56 74.50 L 407.34 74.69 L 409.11 74.99 L 410.86 75.39 L 412.59 75.90 L 415.58 76.87 L 417.29 77.48 L 418.95 78.19 L 420.57 79.00 L 423.05 80.33 L 424.68 80.62 L 426.46 81.05 L 429.07 81.77 L 430.63 82.25 L 432.17 82.80 L 433.67 83.44 L 435.14 84.16 L 436.56 84.95 L 437.94 85.82 L 439.27 86.76 L 440.55 87.77 L 441.78 88.85 L 442.94 89.99 L 444.05 91.20 L 445.09 92.46 L 446.05 93.77 L 446.95 95.13 L 447.77 96.54 L 449.05 98.86 L 449.47 99.36 L 450.41 100.62 L 451.29 101.92 L 452.10 103.26 L 452.84 104.65 L 453.51 106.07 L 454.10 107.52 L 454.62 109.00 L 455.07 110.51 L 455.43 112.04 L 455.72 113.58 L 455.92 115.14 L 456.05 116.70 L 456.09 118.27 L 456.06 119.81 L 456.08 120.15 L 456.11 121.74 L 456.07 123.33 L 455.94 124.91 L 455.72 126.49 L 455.54 127.48 L 456.25 128.73 L 460.97 134.94 L 461.51 135.68 L 462.23 136.31 L 463.38 137.44 L 464.47 138.63 L 465.50 139.87 L 466.46 141.17 L 467.36 142.52 L 468.18 143.91 L 468.92 145.34 L 469.59 146.81 L 470.18 148.31 L 470.69 149.85 L 471.12 151.40 L 471.46 152.98 L 471.72 154.57 L 471.90 156.18 L 471.99 157.79 L 472.00 159.41 L 471.92 161.02 L 471.76 162.63 L 471.51 164.22 L 471.18 165.80 L 470.76 167.36 L 470.27 168.90 L 469.75 170.24 L 470.16 171.69 L 470.50 173.27 L 470.77 174.86 L 470.95 176.46 L 471.05 178.06 L 471.06 179.68 L 470.99 181.28 L 470.83 182.89 L 470.59 184.48 L 470.26 186.06 L 469.86 187.62 L 469.37 189.15 L 468.80 190.66 L 468.15 192.13 L 467.43 193.57 L 466.63 194.97 L 465.75 196.33 L 464.81 197.63 L 463.80 198.89 L 462.73 200.09 L 461.59 201.23 L 460.40 202.31 L 459.15 203.33 L 457.84 204.28 L 456.49 205.15 L 455.10 205.96 L 453.66 206.69 L 452.19 207.35 L 450.69 207.93 L 449.16 208.42 L 449.13 208.43 L 449.01 208.74 L 448.37 210.15 L 447.66 211.53 L 447.25 212.25 L 447.56 213.78 L 447.81 215.44 L 447.97 217.10 L 448.04 218.78 L 448.02 220.45 L 447.93 222.41 L 447.87 224.50 L 447.79 226.06 L 447.62 227.61 L 447.38 229.16 L 446.93 231.59 L 446.70 232.75 L 446.45 233.82 L 446.06 235.39 L 445.58 236.94 L 445.02 238.46 L 444.38 239.95 L 443.66 241.40 L 442.87 242.81 L 442.00 244.18 L 441.06 245.50 L 440.05 246.77 L 438.98 247.98 L 437.84 249.13 L 436.65 250.23 L 435.40 251.25 L 434.09 252.21 L 432.74 253.10 L 431.34 253.92 L 429.90 254.66 L 428.51 255.34 L 427.04 256.00 L 425.54 256.58 L 424.73 256.85 L 424.68 256.99 L 424.17 258.50 L 423.57 259.98 L 422.90 261.42 L 422.83 261.55 L 422.21 262.94 L 421.49 264.35 L 420.69 265.73 L 419.83 267.07 L 418.89 268.35 L 417.90 269.59 L 416.83 270.77 L 415.71 271.90 L 414.53 272.97 L 413.30 273.97 L 412.01 274.91 L 410.68 275.78 L 409.31 276.58 L 407.89 277.30 L 406.44 277.96 L 404.96 278.53 L 403.45 279.03 L 401.92 279.45 L 400.36 279.79 L 398.80 280.05 L 397.22 280.22 L 395.63 280.32 L 394.04 280.33 L 392.45 280.26 L 390.87 280.10 L 389.29 279.87 L 387.74 279.55 L 386.38 279.23 L 385.06 279.79 L 383.53 280.35 L 378.36 282.07 L 376.89 282.52 L 375.40 282.89 L 373.90 283.19 L 372.38 283.42 L 370.85 283.56 L 369.32 283.63 L 367.78 283.62 L 366.25 283.54 L 357.68 282.85 L 357.49 282.87 L 357.43 282.94 L 356.26 284.13 L 355.02 285.25 L 353.73 286.30 L 352.37 287.28 L 348.78 289.74 L 347.41 290.63 L 346.95 290.90 L 345.73 291.92 L 344.42 292.91 L 343.14 293.82 L 341.79 294.73 L 340.39 295.56 L 338.96 296.32 L 337.48 297.00 L 335.97 297.60 L 334.43 298.12 L 332.87 298.56 L 331.28 298.92 L 329.68 299.19 L 328.06 299.37 L 326.44 299.47 L 324.82 299.48 L 323.19 299.41 L 321.58 299.25 L 319.97 299.00 L 318.38 298.67 L 316.81 298.25 L 315.66 297.88 L 314.31 297.62 L 312.81 297.24 L 312.02 297.00 L 307.25 296.47 L 305.60 296.24 L 296.87 294.78 L 295.34 294.48 L 293.83 294.11 L 292.34 293.66 L 289.42 292.70 L 286.79 292.09 L 284.43 291.67 L 281.91 291.55 L 279.92 291.39 L 277.95 291.10 L 275.67 290.69 L 274.45 290.45 L 266.40 288.66 L 262.32 288.57 L 261.03 288.52 L 259.74 288.40 L 250.31 287.39 L 249.04 287.22 L 247.77 287.00 L 228.87 283.34 L 226.78 282.85 L 223.81 282.06 L 221.27 281.84 L 219.55 281.64 L 217.84 281.34 L 211.63 280.07 L 210.11 279.72 L 208.62 279.29 L 207.15 278.79 L 205.71 278.22 L 200.86 276.15 L 199.45 275.50 L 198.07 274.78 L 196.73 273.99 L 195.44 273.14 L 194.19 272.22 L 192.98 271.24 L 191.83 270.20 L 190.73 269.10 L 189.69 267.95 L 186.31 264.02 L 185.42 262.92 L 184.57 261.79 L 182.58 258.98 L 182.04 259.03 L 180.53 259.11 L 176.67 259.21 L 175.23 259.21 L 173.79 259.14 L 172.35 259.01 L 170.93 258.81 L 169.51 258.54 L 169.42 258.52 L 168.72 258.67 L 168.21 258.76 L 167.98 259.11 L 167.01 260.42 L 165.98 261.67 L 164.87 262.86 L 163.71 264.00 L 162.22 265.37 L 160.99 266.46 L 159.70 267.47 L 158.35 268.41 L 156.96 269.28 L 155.52 270.07 L 154.05 270.79 L 152.53 271.42 L 150.99 271.98 L 149.42 272.44 L 147.82 272.83 L 146.21 273.13 L 142.91 273.64 L 141.13 273.87 L 139.35 273.99 L 137.56 274.01 L 135.77 273.92 L 130.73 273.52 L 129.20 273.36 L 127.68 273.13 L 126.18 272.81 L 124.69 272.43 L 123.22 271.97 L 119.60 270.72 L 118.09 270.16 L 116.62 269.52 L 115.18 268.81 L 113.92 268.10 L 112.66 268.04 L 111.04 267.88 L 109.42 267.63 L 107.82 267.30 L 106.52 266.95 L 105.29 267.32 L 103.73 267.70 L 102.15 267.99 L 100.55 268.20 L 98.95 268.33 L 97.35 268.37 L 95.74 268.33 L 94.14 268.20 L 92.55 267.99 L 90.97 267.70 L 89.40 267.32 L 87.86 266.86 L 80.73 264.54 L 79.29 264.03 L 77.87 263.44 L 76.49 262.79 L 75.14 262.07 L 68.79 258.47 L 67.42 257.65 L 66.10 256.76 L 64.83 255.80 L 63.61 254.78 L 62.44 253.69 L 62.43 253.68 L 61.76 253.56 L 60.19 253.19 L 58.64 252.73 L 57.11 252.19 L 55.62 251.57 L 54.16 250.87 L 52.74 250.09 L 51.36 249.24 L 50.03 248.32 L 48.75 247.33 L 47.53 246.28 L 46.36 245.16 L 45.25 243.98 L 44.21 242.74 L 43.23 241.45 L 42.32 240.11 L 41.49 238.73 L 40.73 237.30 L 40.04 235.83 L 39.44 234.33 L 38.91 232.80 L 38.47 231.25 L 38.11 229.67 L 37.83 228.08 L 37.64 226.47 L 37.60 225.90 L 37.59 225.87 L 37.05 224.34 L 36.58 222.79 L 36.31 221.67 L 36.10 221.07 L 36.08 221.00 L 35.61 219.84 L 35.06 218.29 L 34.61 216.71 L 34.24 215.11 L 33.95 213.49 L 33.76 211.85 L 33.65 210.21 L 33.63 208.57 L 33.69 206.93 L 33.85 205.29 L 34.09 203.66 L 34.21 203.08 Z' style='fill-rule: evenodd; stroke-width: 1.12; stroke: #7F7F7F; stroke-dasharray: 6.00,6.00;' />
<path d='M 64.76 210.11 L 64.20 209.01 L 67.62 200.71 L 68.03 195.56 L 64.17 192.54 L 62.56 191.64 L 63.76 190.97 L 68.93 191.53 L 72.03 189.83 L 73.59 188.13 L 78.27 189.72 L 85.22 192.94 L 88.56 195.11 L 90.00 196.79 L 90.85 198.20 L 90.67 200.60 L 92.27 201.55 L 95.45 201.91 L 97.61 202.66 L 97.16 205.82 L 97.25 208.46 L 100.13 208.09 L 103.59 206.08 L 106.11 202.47 L 107.55 198.99 L 108.10 190.49 L 108.49 189.77 L 110.73 190.44 L 119.55 190.07 L 123.88 191.65 L 130.52 191.92 L 130.53 193.25 L 131.90 195.32 L 135.13 198.32 L 136.76 200.28 L 139.88 200.62 L 144.52 199.54 L 147.19 198.42 L 148.31 199.22 L 152.57 198.44 L 156.17 196.02 L 156.93 194.18 L 160.68 192.88 L 165.61 189.90 L 172.57 187.59 L 195.89 185.12 L 196.61 183.26 L 195.80 179.00 L 196.35 178.37 L 199.44 179.43 L 204.31 180.43 L 208.12 181.94 L 210.71 183.91 L 212.92 183.99 L 216.16 182.61 L 220.67 181.72 L 225.20 183.76 L 226.70 185.98 L 226.07 187.11 L 226.36 188.91 L 227.87 190.41 L 231.65 192.86 L 236.38 194.97 L 238.69 194.80 L 239.32 192.75 L 239.59 187.88 L 239.30 182.69 L 237.92 179.71 L 235.42 178.98 L 232.51 178.74 L 230.91 178.12 L 231.25 176.49 L 233.07 172.26 L 232.38 166.60 L 226.45 160.17 L 221.24 153.95 L 221.01 151.84 L 223.28 148.17 L 227.10 145.25 L 235.75 140.39 L 238.54 139.38 L 242.17 138.56 L 247.30 136.56 L 249.63 134.51 L 251.10 132.29 L 252.19 120.70 L 252.72 120.21 L 253.38 119.53 L 263.25 123.52 L 264.02 122.86 L 265.51 122.21 L 268.18 119.15 L 268.56 116.82 L 267.94 112.43 L 267.68 108.28 L 268.10 106.96 L 269.57 107.44 L 273.87 109.60 L 277.38 112.02 L 281.16 118.12 L 288.37 119.75 L 297.22 119.91 L 300.02 117.19 L 302.80 116.56 L 306.15 117.39 L 313.11 118.35 L 313.21 113.41 L 316.45 108.29 L 317.99 106.48 L 323.00 106.66 L 323.71 102.84 L 323.48 92.25 L 324.37 91.09 L 328.03 91.31 L 331.90 93.24 L 333.21 94.80 L 335.07 94.68 L 337.55 93.61 L 340.33 92.93 L 345.04 94.05 L 355.45 98.86 L 360.73 100.62 L 363.86 100.28 L 366.85 100.35 L 379.44 107.79 L 387.64 108.83 L 394.98 108.86 L 397.00 106.61 L 399.84 104.71 L 403.14 104.98 L 406.13 105.95 L 412.17 109.18 L 414.86 110.01 L 418.35 110.53 L 420.97 111.25 L 424.06 116.87 L 425.52 118.37 L 425.42 119.07 L 425.54 121.63 L 424.10 124.85 L 422.67 129.07 L 423.37 132.78 L 430.69 145.63 L 436.65 153.46 L 438.01 156.44 L 441.43 158.73 L 438.96 161.62 L 439.04 165.90 L 437.44 167.80 L 437.32 170.25 L 438.45 172.48 L 438.86 175.26 L 440.49 179.10 L 435.94 179.94 L 430.35 179.81 L 428.39 180.03 L 426.69 181.08 L 424.68 180.56 L 419.11 176.95 L 416.16 176.17 L 414.18 176.38 L 412.91 177.95 L 410.62 179.96 L 408.40 181.37 L 409.12 182.61 L 420.04 185.85 L 422.63 190.83 L 421.21 194.90 L 420.82 196.89 L 418.60 198.46 L 415.79 199.84 L 412.22 200.18 L 412.11 202.38 L 414.46 208.84 L 413.51 210.24 L 412.64 212.25 L 414.49 217.57 L 416.80 217.95 L 417.47 219.17 L 417.38 221.32 L 417.31 223.62 L 416.87 226.05 L 416.62 227.12 L 415.23 227.80 L 410.51 227.44 L 406.78 229.52 L 399.74 236.99 L 397.08 238.26 L 394.43 241.24 L 395.52 247.82 L 395.18 248.41 L 394.62 249.76 L 384.61 247.44 L 384.28 247.48 L 377.90 248.33 L 373.86 251.34 L 368.70 253.07 L 357.27 252.15 L 346.41 253.32 L 343.91 254.20 L 341.12 254.70 L 338.66 256.45 L 337.45 258.93 L 335.10 262.06 L 331.51 264.52 L 327.50 266.40 L 326.69 268.00 L 325.40 268.91 L 322.89 267.72 L 320.98 267.78 L 318.54 266.97 L 310.64 266.08 L 301.91 264.62 L 297.67 263.23 L 292.91 262.12 L 287.83 261.22 L 283.36 261.01 L 281.07 260.60 L 270.09 258.17 L 263.02 258.01 L 253.59 256.99 L 234.69 253.32 L 229.15 251.84 L 223.95 251.38 L 217.74 250.11 L 212.89 248.04 L 209.51 244.10 L 205.80 238.87 L 199.30 232.04 L 197.76 228.64 L 199.21 225.65 L 200.78 223.41 L 200.47 222.44 L 199.01 221.95 L 189.20 224.86 L 179.76 228.55 L 175.90 228.64 L 172.07 227.82 L 167.10 227.77 L 162.42 228.75 L 152.90 229.26 L 147.56 231.98 L 144.50 237.27 L 142.96 241.55 L 141.47 242.92 L 138.17 243.44 L 133.13 243.04 L 129.50 241.80 L 125.59 238.15 L 119.98 237.64 L 114.88 237.55 L 113.47 236.87 L 113.34 234.50 L 110.93 230.04 L 107.48 228.64 L 99.63 237.05 L 97.34 237.80 L 90.21 235.47 L 83.85 231.87 L 82.96 229.24 L 81.80 227.08 L 76.54 225.04 L 70.09 223.64 L 68.08 223.65 L 68.76 222.38 L 69.33 220.23 L 68.71 218.52 L 67.08 216.75 L 66.11 214.86 L 65.72 213.02 L 65.15 211.52 L 64.76 210.11 Z' style='fill-rule: evenodd; stroke-width: 1.50;' />
<line x1='289.34' y1='188.00' x2='296.98' y2='188.00' style='stroke-width: 0.75;' />
<line x1='293.16' y1='191.82' x2='293.16' y2='184.18' style='stroke-width: 0.75;' />
<rect rx='4' class='legend-bg' x='376.12' y='14.40' width='113.48' height='57.60' style='stroke-width: 0.75; stroke: #DFD7CA; fill: #F5F6F8;' />
<line x1='379.36' y1='28.80' x2='400.96' y2='28.80' style='stroke-width: 1.50;' />
<line x1='379.36' y1='43.20' x2='400.96' y2='43.20' style='stroke-width: 1.12; stroke: #7F7F7F; stroke-dasharray: 6.00,6.00;' />
<line x1='386.34' y1='57.60' x2='393.98' y2='57.60' style='stroke-width: 0.75;' />
<line x1='390.16' y1='61.42' x2='390.16' y2='53.78' style='stroke-width: 0.75;' />
<text x='411.76' y='33.10' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='37.34px' lengthAdjust='spacingAndGlyphs'>Austria</text>
<text x='411.76' y='47.50' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='72.44px' lengthAdjust='spacingAndGlyphs'>Area of Effect</text>
<text x='411.76' y='61.90' style='font-size: 12.00px; font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;' textLength='45.36px' lengthAdjust='spacingAndGlyphs'>Centroid</text>
</g>
</g>
</svg></div></p>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gcol33.github.io/areaOfEffect">areaOfEffect</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Your occurrence data</span></span>
<span><span class="va">observations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span><span class="op">)</span>,</span>
<span>  lon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14.5</span>, <span class="fl">15.2</span>, <span class="fl">16.8</span>, <span class="fl">20.0</span><span class="op">)</span>,</span>
<span>  lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">47.5</span>, <span class="fl">48.1</span>, <span class="fl">47.2</span>, <span class="fl">48.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># One line - get back a classified dataframe</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">observations</span>, <span class="st">"Austria"</span><span class="op">)</span></span>
<span><span class="va">result</span><span class="op">$</span><span class="va">aoe_class</span></span>
<span><span class="co">#&gt; [1] "core" "core" "halo"</span></span>
<span><span class="co"># (point D pruned - outside area of effect)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="philosophy">Philosophy<a class="anchor" aria-label="anchor" href="#philosophy"></a>
</h2>
<p>areaOfEffect does not invent new geometry. It standardizes a common spatial task: classifying points by their position relative to a region’s boundary.</p>
<p><strong>Instead of choosing arbitrary buffer distances, halos are defined as a fixed proportion of region area</strong> — enabling consistent cross-country comparisons without CRS expertise.</p>
<p>This is the kind of spatial task ecologists repeatedly reimplement with subtle errors. This package handles:</p>
<ul>
<li>Coordinate column auto-detection</li>
<li>Country lookup by name or ISO code</li>
<li>Equal-area projection (done correctly)</li>
<li>Area-based buffer calculation</li>
<li>Point classification</li>
<li>Clean dataframe output</li>
</ul>
<p>You don’t need to learn CRS theory, when buffering in degrees is wrong, or why <code><a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html" class="external-link">st_covers()</a></code> sometimes returns <code>FALSE</code>. You just get a column that says <code>core</code> or <code>halo</code>.</p>
</div>
<div class="section level2">
<h2 id="statement-of-need">Statement of Need<a class="anchor" aria-label="anchor" href="#statement-of-need"></a>
</h2>
<p>Political borders are not hard ecological boundaries. Biological processes do not stop at administrative lines. When sampling within a political region, observations near the border are influenced by conditions outside that region.</p>
<p>The <strong>area of effect</strong> corrects for this border truncation by expanding the support outward. Points are then classified:</p>
<ul>
<li>
<strong>Core</strong>: inside the original support</li>
<li>
<strong>Halo</strong>: outside the original support but inside the expanded area of effect</li>
<li>
<strong>Pruned</strong>: outside the area of effect (not returned)</li>
</ul>
<p>By default, the halo has <strong>equal area to the core</strong> — a scale-free, proportion-based definition that enables consistent cross-country comparisons.</p>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>
<strong>Dataframe workflow</strong>: Plain dataframes with coordinates go in, classified dataframes come out</li>
<li>
<strong>Country lookup</strong>: Pass ISO codes or names directly (<code>"AT"</code>, <code>"Austria"</code>)</li>
<li>
<strong>Auto-detection</strong>: Omit support to detect countries from points</li>
<li>
<strong>Area-based halos</strong>: Proportion of region area, not arbitrary distances</li>
<li>
<strong>Multiple supports</strong>: Process admin regions with long format output</li>
<li>
<strong>Masking</strong>: Coastlines and other hard constraints</li>
<li>
<strong>S3 methods</strong>: <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"gcol33/areaOfEffect"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="from-a-dataframe">From a Dataframe<a class="anchor" aria-label="anchor" href="#from-a-dataframe"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gcol33.github.io/areaOfEffect">areaOfEffect</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plain dataframe with coordinates</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,</span>
<span>  longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14.5</span>, <span class="fl">15.2</span>, <span class="fl">16.8</span>, <span class="fl">20.0</span><span class="op">)</span>,</span>
<span>  latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">47.5</span>, <span class="fl">48.1</span>, <span class="fl">47.2</span>, <span class="fl">48.5</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Classify relative to Austria</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"Austria"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="from-sf-objects">From sf Objects<a class="anchor" aria-label="anchor" href="#from-sf-objects"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># sf points work too</span></span>
<span><span class="va">pts_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">df</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"longitude"</span>, <span class="st">"latitude"</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">pts_sf</span>, <span class="st">"AT"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-countries">Multiple Countries<a class="anchor" aria-label="anchor" href="#multiple-countries"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Austria + Germany</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AT"</span>, <span class="st">"DE"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Auto-detect countries from points</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="with-mask-eg-land-only">With Mask (e.g., Land Only)<a class="anchor" aria-label="anchor" href="#with-mask-eg-land-only"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/aoe.html">aoe</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">"Austria"</span>, mask <span class="op">=</span> <span class="va">land_polygon</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="scale">Scale<a class="anchor" aria-label="anchor" href="#scale"></a>
</h2>
<p>The <code>scale</code> parameter controls halo size as a proportion of core area.</p>
<p>Default: <code>sqrt(2) - 1</code> ≈ 0.414, which gives <strong>equal core and halo areas</strong>.</p>
<table class="table">
<thead><tr>
<th>Scale</th>
<th>Halo:Core Area</th>
</tr></thead>
<tbody>
<tr>
<td>
<code>sqrt(2) - 1</code> (default)</td>
<td>1:1</td>
</tr>
<tr>
<td><code>1</code></td>
<td>3:1</td>
</tr>
<tr>
<td><code>0.5</code></td>
<td>1.25:1</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<ul>
<li><a href="https://gcol33.github.io/areaOfEffect/articles/quickstart.html">Quick Start Vignette</a></li>
<li><a href="https://gcol33.github.io/areaOfEffect/reference/index.html">Function Reference</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a>
</h2>
<p>I’m a PhD student who builds R packages in my free time because I believe good tools should be free and open.</p>
<p>If this package saved you time, buying me a coffee is a nice way to say thanks.</p>
<p><a href="https://buymeacoffee.com/gcol33" class="external-link"><img src="https://img.shields.io/badge/-Buy%20me%20a%20coffee-FFDD00?logo=buymeacoffee&amp;logoColor=black" alt="Buy Me A Coffee"></a></p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co">@software{areaOfEffect,</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">  author = {Colling, Gilles},</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">  title = {areaOfEffect: Area-Based Spatial Classification for Ecological Data},</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">  year = {2025},</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">  url = {https://github.com/gcol33/areaOfEffect}</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">}</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/gcol33/areaOfEffect/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/gcol33/areaOfEffect/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing areaOfEffect</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Gilles Colling <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-3070-6066" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gilles Colling.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  
<script>
/* SVG Copy Button Functionality */
(function() {
  "use strict";

  // Initialize SVG copy buttons after DOM is ready
  document.addEventListener("DOMContentLoaded", function() {
    if (typeof ClipboardJS === "undefined") {
      console.warn("ClipboardJS not loaded - SVG copy buttons disabled");
      return;
    }

    // Initialize clipboard for SVG copy buttons
    var svgClipboard = new ClipboardJS(".btn-copy-svg", {
      text: function(trigger) {
        var container = trigger.closest(".svg-container");
        if (!container) return "";

        var svg = container.querySelector("svg");
        if (!svg) return "";

        // Clone SVG to avoid modifying the original
        var clone = svg.cloneNode(true);

        // Remove inline-svg class (not needed in copied version)
        clone.classList.remove("inline-svg");

        // Add XML declaration and serialize
        var serializer = new XMLSerializer();
        var svgString = serializer.serializeToString(clone);

        // Add XML declaration if not present
        if (!svgString.startsWith("<?xml")) {
          svgString = '<?xml version="1.0" encoding="UTF-8"?>\n' + svgString;
        }

        return svgString;
      }
    });

    // Handle success
    svgClipboard.on("success", function(e) {
      var btn = e.trigger;
      var originalTitle = btn.getAttribute("data-bs-original-title") || btn.getAttribute("title");

      // Update tooltip to show "Copied!"
      btn.setAttribute("data-bs-original-title", "Copied!");
      var tooltip = bootstrap.Tooltip.getInstance(btn);
      if (tooltip) {
        tooltip.show();
      }

      // Reset after delay
      setTimeout(function() {
        btn.setAttribute("data-bs-original-title", originalTitle);
      }, 1500);

      e.clearSelection();
    });

    // Handle error
    svgClipboard.on("error", function(e) {
      var btn = e.trigger;
      btn.setAttribute("data-bs-original-title", "Press Ctrl+C to copy");
      var tooltip = bootstrap.Tooltip.getInstance(btn);
      if (tooltip) {
        tooltip.show();
      }
    });

    // Initialize tooltips for SVG copy buttons
    var svgCopyButtons = document.querySelectorAll(".btn-copy-svg");
    svgCopyButtons.forEach(function(btn) {
      new bootstrap.Tooltip(btn, { container: "body" });
    });
  });
})();
</script>
</body>
</html>
